(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1783],{85083:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/catalogadmin",function(){return n(91051)}])},726:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(36100),i=n(11802);let a=(0,r.ad)(i.Z);async function s(t,e,n){try{let i=e.toLowerCase(),s=n.toLowerCase(),o=(0,r.IO)((0,r.hJ)(a,t),(0,r.Xo)(i)),c=await (0,r.PL)(o),d=c.docs.filter(t=>{let e=t.data()[i];return e&&-1!==e.toLowerCase().indexOf(s)}).map(t=>({id:t.id,...t.data()}));return d}catch(t){throw console.error("Error searching data:",t),t}}},91051:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var r=n(85893),i=n(67294),a=n(87357),s=n(9913),o=n(68239),c=n(22430),d=n(15861),l=n(98271),h=n(87109),u=n(83321),x=n(86886),m=n(66242),f=n(9974),p=n(83965),g=n(44267),Z=n(42761);n(49925);var j=n(11163),w=n(23279),C=n.n(w),_=n(726),v=n(23736);function b(){let t=(0,o.Z)({palette:{primary:{main:"#018294"},success:{main:"#A9C470"},error:{main:"#FE616A"}}}),{catalogData:e,setCatalogData:n,fetchcatalogData:w}=i.useContext(v.G),[b,y]=(0,i.useState)("");(0,i.useEffect)(()=>{w()},[]);let E=C()(async t=>{try{let e=await (0,_.Z)("catalog","name",t);n(e)}catch(t){console.error("Error searching data:",t)}},500),k=t=>{y(t),E(t)},N=(0,j.useRouter)();return(0,r.jsx)(s.Z,{children:(0,r.jsx)(c.Z,{theme:t,children:(0,r.jsxs)(a.Z,{sx:{minHeight:"70vh",width:"100%",mt:5,mb:3},children:[(0,r.jsx)(d.Z,{sx:{fontSize:"2rem",fontWeight:"600"},children:"แคตตาล็อค"}),(0,r.jsx)(a.Z,{sx:{mt:1},children:(0,r.jsx)(l.Z,{label:"ค้นหา",variant:"outlined",size:"small",onChange:t=>k(t.target.value),InputProps:{startAdornment:(0,r.jsx)(h.Z,{position:"start",children:(0,r.jsx)(Z.Z,{sx:{fontSize:"1.4rem"}})})}})}),(0,r.jsxs)(a.Z,{sx:{display:"flex",justifyContent:{xl:"flex-end"},width:"100%"},children:[(0,r.jsx)(u.Z,{variant:"contained",color:"success",onClick:function(){N.push("/catalogadmin/addcatalog")},sx:{mr:2,mb:2,mt:2},children:"เพิ่มแค็ตตาล็อก"}),(0,r.jsx)(u.Z,{variant:"contained",color:"error",onClick:()=>{N.push("/catalogadmin/history")},sx:{mb:2,mt:2},children:"ประวัติการลบ"})]}),(0,r.jsx)(a.Z,{sx:{height:"100%",backgroundColor:"#fff",p:2,mt:2,boxShadow:"4px 4px 4px 0px rgba(0, 0, 0, 0.25)",borderRadius:"5px"},children:(0,r.jsx)(x.ZP,{container:!0,spacing:2,children:e&&e.filter(t=>!t.delete).map(t=>(0,r.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,r.jsx)(m.Z,{sx:{maxWidth:400},onClick:()=>{var e;return e=t.id,void N.push({pathname:"/catalogadmin/editcatalog",query:{catalog_id:JSON.stringify(e)}})},children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(p.Z,{component:"img",height:"200",src:t.img,alt:"ภาพ"}),(0,r.jsx)(g.Z,{children:(0,r.jsx)(d.Z,{gutterBottom:!0,variant:"h5",component:"div",sx:{color:"#018294",fontSize:{xs:"1rem",sm:"1rem",md:"1.5rem"}},children:t.name})})]})})},t.id))})})]})})})}}},function(t){t.O(0,[2607,7609,5675,6298,6185,1283,3717,3914,8360,8271,5918,9913,9774,2888,179],function(){return t(t.s=85083)}),_N_E=t.O()}]);