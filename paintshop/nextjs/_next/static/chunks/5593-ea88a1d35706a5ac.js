"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5593],{59741:function(e,t){t.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},49505:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(85893),o=n(67294),l=n(87357),a=n(15861),i=n(75716),s=n(82280),c=n(38895),d=n(22797),u=n(90948),h=n(3023),x=n(40535),p=n(51983),g=n(41664),f=n.n(g),m=n(11163),j=n(49925),Z=n(50838);let y=(0,u.ZP)(e=>(0,r.jsx)(s.Z,{disableGutters:!0,elevation:0,square:!0,...e}))(e=>{let{theme:t}=e;return{"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}}),b=(0,u.ZP)(e=>(0,r.jsx)(c.Z,{expandIcon:(0,r.jsx)(i.Z,{sx:{fontSize:"0.9rem"}}),...e}))(e=>{let{theme:t}=e;return{flexDirection:"row","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}}),A=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(2),borderBottom:"1px solid rgba(0, 0, 0, .125)",borderTop:"1px solid rgba(0, 0, 0, .125)"}});function w(){let[e,t]=o.useState("panel1"),n=(0,m.useRouter)(),i=(0,Z.Eu)(),[s,c]=o.useState(null);o.useEffect(()=>{d()},[]);let d=async()=>{let e=i.user.uid,{result:t,error:n}=await (0,j.PR)("users",e);if(n)console.error("Error fetching collection:",n);else{let n=t.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel}));console.log("ทดสอบรหัสผู้ใช้",e),c(n)}};console.log("ทดสอบผู้ใช้",s);let u=e=>(n,r)=>{t(!!r&&e)};return(0,r.jsxs)(r.Fragment,{children:[s&&s.map((e,t)=>(0,r.jsxs)(l.Z,{borderBottom:1,borderColor:"grey.300",marginBottom:1,children:[" ",(0,r.jsxs)(a.Z,{sx:{p:2},children:["สวัสดี,",(0,r.jsx)("span",{style:{fontWeight:"bold"},children:e.name})]})]},t)),(0,r.jsxs)(y,{expanded:"panel1"===e,onChange:u("panel1"),children:[(0,r.jsxs)(b,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[(0,r.jsx)(h.Z,{sx:{color:"grey"}}),(0,r.jsx)(a.Z,{sx:{pl:2,fontWeight:"bold"},children:"บัญชีของฉัน"})]}),(0,r.jsxs)(A,{sx:{pl:8,display:"flex",flexDirection:"column"},children:[(0,r.jsx)(f(),{style:{textDecoration:"none",color:"/account/profile"===n.pathname?"#018294":"inherit",fontWeight:"/account/profile"===n.pathname?"bold":"normal"},href:"/account/profile",children:"ข้อมูลส่วนตัว"}),(0,r.jsx)(f(),{style:{textDecoration:"none",color:"/account/address"===n.pathname?"#018294":"inherit",fontWeight:"/account/address"===n.pathname?"bold":"normal"},href:"/account/address",children:"ที่อยู่"})]})]}),(0,r.jsx)(y,{expanded:"panel2"===e,onChange:u("panel2"),children:(0,r.jsxs)(b,{"aria-controls":"panel2d-content",id:"panel2d-header",expandIcon:null,children:[(0,r.jsx)(x.Z,{sx:{color:"grey"}}),(0,r.jsx)(a.Z,{sx:{pl:2},children:(0,r.jsx)(f(),{style:{textDecoration:"none",color:"/account/orderhistory"===n.pathname?"#018294":"inherit",fontWeight:"bold"},href:"/account/orderhistory",children:"รายการคำสั่งซื้อ"})})]})}),(0,r.jsx)(y,{expanded:"panel3"===e,onChange:u("panel3"),children:(0,r.jsxs)(b,{"aria-controls":"panel3d-content",id:"panel3d-header",expandIcon:null,children:[(0,r.jsx)(p.Z,{sx:{color:"grey"}}),(0,r.jsx)(a.Z,{sx:{pl:2},children:(0,r.jsx)(f(),{style:{textDecoration:"none",color:"/account/claim"===n.pathname?"#018294":"inherit",fontWeight:"bold"},href:"/account/claim",children:"การเคลมสินค้า"})})]})})]})}},17576:function(e,t,n){n.d(t,{Z:function(){return X}});var r=n(85893),o=n(67294),l=n(66720),a=n(65582),i=n(68239),s=n(22430),c=n(2734),d=n(98396),u=n(42293),h=n(10155),x=n(83321),p=n(93946),g=n(69661),f=n(35294),m=n(4178),j=n(15861),Z=n(77533),y=n(78462),b=n(76113),A=n(48885),w=n(59334),P=n(326);let k=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var C=()=>{let[e,t]=o.useState(!1);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Z.ZP,{anchor:"left",open:e,onClose:()=>t(!1),children:(0,r.jsx)(y.Z,{children:k.map((e,t)=>(0,r.jsx)(b.Z,{children:(0,r.jsx)(A.Z,{children:(0,r.jsx)(w.Z,{children:e})})},t))})}),(0,r.jsx)(p.Z,{sx:{color:"black"},onClick:()=>t(!e),children:(0,r.jsx)(P.Z,{color:"white"})})]})},E=n(87357),v=n(59741),L=n(25675),S=n.n(L),D=n(41664),F=n.n(D),I=n(42761),U=n(46624),B=n(9669),R=n(50838),W=n(39332),J=n(49925);let T=["โปรไฟล์","ออกจากระบบ"];function M(){let[e,t]=o.useState(null),{role:n,user:l}=(0,R.Eu)();"admin"==n?(T=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(l)):"employee"==n?(T=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(l)):(T=["โปรไฟล์","ออกจากระบบ"],console.log(l));let[a,Z]=o.useState(""),[y,b]=o.useState(null),[A,w]=o.useState(null);o.useEffect(()=>{P()},[]);let P=async()=>{let e=l.uid,{result:n,error:r}=await (0,J.PR)("users",e);if(r)console.error("Error fetching collection:",r);else{let e=n.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));t(e)}},k=(0,B.v0)(),L=async()=>{try{await (0,B.w7)(k),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},D=(0,W.useRouter)(),M=e=>{"ออกจากระบบ"==e?L():"โปรไฟล์"==e?D.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==n?D.push("/dashboard"):D.push("/product"))};console.log("ทดสอบpath",D.pathname),o.useEffect(()=>{Z(D.pathname)},[D.pathname]);let X=(0,c.Z)();console.log(X);let O=(0,d.Z)(X.breakpoints.down("md"));console.log(O);let _=(0,i.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",a);let G={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,r.jsx)(s.Z,{theme:_,children:(0,r.jsx)(u.Z,{position:"static",sx:{background:"white"},children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(S(),{src:v.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),O?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(C,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>Z("/homepage"),children:(0,r.jsx)(E.Z,{sx:"/homepage"===a?G.activeLink:G.Box,children:(0,r.jsx)(x.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,r.jsx)(F(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>Z("/catalog"),children:(0,r.jsx)(E.Z,{sx:"/catalog"===a?G.activeLink:G.Box,children:(0,r.jsx)(x.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,r.jsx)(p.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,r.jsx)(I.Z,{})}),(0,r.jsx)(F(),{href:"/cart",children:(0,r.jsx)(p.Z,{color:"black",children:(0,r.jsx)(U.Z,{})})}),(0,r.jsx)(p.Z,{onClick:e=>{w(e.currentTarget)},sx:{p:0},children:e&&e.map((e,t)=>(0,r.jsx)(E.Z,{children:(0,r.jsx)(g.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},t))}),(0,r.jsx)(f.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:A,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!A,onClose:()=>{w(null)},children:T.map(e=>(0,r.jsx)(m.Z,{onClick:()=>M(e),children:(0,r.jsx)(j.Z,{textAlign:"center",children:e})},e))})]})]})})})}function X(e){let{children:t}=e,{user:n,isAdmin:i}=(0,R.Eu)(),s=(0,W.useRouter)();return o.useEffect(()=>{null==n&&s.push("/")},[n]),(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.ZP,{}),(0,r.jsxs)(a.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,r.jsx)(M,{}),t]})]})}},49925:function(e,t,n){n.d(t,{EC:function(){return s},Eq:function(){return d},KL:function(){return c},PR:function(){return u},ZP:function(){return a},_N:function(){return i},wv:function(){return h}});var r=n(11802),o=n(36100);let l=(0,o.ad)(r.Z);async function a(e,t){let n=(0,o.JU)(l,e,t);try{let e=await (0,o.QT)(n);return{result:e,error:null}}catch(e){return{result:null,error:e}}}let i=async e=>{let t=await (0,o.PL)((0,o.hJ)(l,e));return{result:t,error:null}},s=async(e,t)=>{let n=(0,o.JU)(l,"catalog",t),r=(0,o.IO)((0,o.hJ)(l,e),(0,o.ar)("catalog_id","==",n)),a=await (0,o.PL)(r);return{result:a,error:null}},c=async e=>{let t=[];for(let n of e){let e=await (0,o.QT)((0,o.JU)(l,"products",n));if(e.exists()){let r=e.data(),o={id:n,...r};t.push(o)}}return t},d=async e=>{let t=[];for(let n of e){let e=await (0,o.QT)((0,o.JU)(l,"colors",n));if(e.exists()){let r=e.data(),o={id:n,...r};t.push(o)}}return t},u=async(e,t)=>{let n=(0,o.IO)((0,o.hJ)(l,e),(0,o.ar)("uid","==",String(t))),r=await (0,o.PL)(n);return r.forEach(e=>{console.log(e.id," => ",e.data())}),{result:r,error:null}},h=async(e,t)=>{let n=(0,o.JU)(l,"catalog",t),r=await (0,o.QT)(n);if(!r.exists())return console.error("Catalog document not found"),{result:null,error:"Catalog document not found"};let a=(0,o.IO)((0,o.hJ)(l,e),(0,o.ar)("catalog_id","==",n));try{let e=await (0,o.PL)(a);return e.forEach(e=>{console.log(e.id," => ",e.data())}),{result:e,error:null}}catch(e){return console.error("Error getting products: ",e),{result:null,error:e}}}}}]);