(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6678],{15021:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employee",function(){return t(49442)}])},49925:function(e,r,t){"use strict";t.d(r,{EC:function(){return a},Eq:function(){return u},KL:function(){return c},PR:function(){return d},ZP:function(){return l},_N:function(){return i},wv:function(){return x}});var n=t(11802),s=t(36100);let o=(0,s.ad)(n.Z);async function l(e,r){let t=(0,s.JU)(o,e,r);try{let e=await (0,s.QT)(t);return{result:e,error:null}}catch(e){return{result:null,error:e}}}let i=async e=>{let r=await (0,s.PL)((0,s.hJ)(o,e));return{result:r,error:null}},a=async(e,r)=>{let t=(0,s.JU)(o,"catalog",r),n=(0,s.IO)((0,s.hJ)(o,e),(0,s.ar)("catalog_id","==",t)),l=await (0,s.PL)(n);return{result:l,error:null}},c=async e=>{let r=[];for(let t of e){let e=await (0,s.QT)((0,s.JU)(o,"products",t));if(e.exists()){let n=e.data(),s={id:t,...n};r.push(s)}}return r},u=async e=>{let r=[];for(let t of e){let e=await (0,s.QT)((0,s.JU)(o,"colors",t));if(e.exists()){let n=e.data(),s={id:t,...n};r.push(s)}}return r},d=async(e,r)=>{let t=(0,s.IO)((0,s.hJ)(o,e),(0,s.ar)("uid","==",String(r))),n=await (0,s.PL)(t);return n.forEach(e=>{console.log(e.id," => ",e.data())}),{result:n,error:null}},x=async(e,r)=>{let t=(0,s.JU)(o,"catalog",r),n=await (0,s.QT)(t);if(!n.exists())return console.error("Catalog document not found"),{result:null,error:"Catalog document not found"};let l=(0,s.IO)((0,s.hJ)(o,e),(0,s.ar)("catalog_id","==",t));try{let e=await (0,s.PL)(l);return e.forEach(e=>{console.log(e.id," => ",e.data())}),{result:e,error:null}}catch(e){return console.error("Error getting products: ",e),{result:null,error:e}}}},726:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var n=t(36100),s=t(11802);let o=(0,n.ad)(s.Z);async function l(e,r,t){try{let s=r.toLowerCase(),l=t.toLowerCase(),i=(0,n.IO)((0,n.hJ)(o,e),(0,n.Xo)(s)),a=await (0,n.PL)(i),c=a.docs.filter(e=>{let r=e.data()[s];return r&&-1!==r.toLowerCase().indexOf(l)}).map(e=>({id:e.id,...e.data()}));return c}catch(e){throw console.error("Error searching data:",e),e}}},72479:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return h}});var n=t(85893),s=t(67294),o=t(66242),l=t(44267),i=t(15861),a=t(9974),c=t(87357),u=t(25675),d=t.n(u),x=t(11163);function h(e){let{data:r}=e,t="ยังไม่เพิ่มเงินเดือน";r.salary&&(t=r.salary);let u=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),h=(0,x.useRouter)();return s.useEffect(()=>{console.log(r)},[]),(0,n.jsx)(o.Z,{sx:{borderRadius:"20px",mb:2,boxShadow:"rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(6, 24, 44, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset"},onClick:function(){h.push({pathname:"/employee/profile",query:{employeeData:JSON.stringify(r.id)}})},children:(0,n.jsx)(a.Z,{children:(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(d(),{src:r.profileUrl,priority:!0,alt:"profile",width:60,height:60,style:{borderRadius:"100px",objectFit:"cover"}}),(0,n.jsx)(i.Z,{sx:{pl:2,fontWeight:600,fontSize:"1.2rem"},children:r.name})]}),(0,n.jsxs)(c.Z,{children:[console.log(t),(0,n.jsxs)(i.Z,{sx:{color:"#7A7A7A"},children:["เงินเดือน: ",u]})]})]}),(0,n.jsxs)(c.Z,{sx:{mt:5},children:[(0,n.jsx)("hr",{}),(0,n.jsx)(c.Z,{children:(0,n.jsxs)(i.Z,{children:["เบอร์ติดต่อ: ",r.tel]})})]})]})})})}},49442:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return w}});var n=t(85893),s=t(67294),o=t(87357),l=t(98010),i=t(68239),a=t(86886),c=t(15861),u=t(10945),d=t(87109),x=t(83321),h=t(72479),f=t(11163);t(49925);var p=t(50838),m=t(42761),g=t(23279),j=t.n(g),Z=t(726),y=t(11463);function w(){let{role:e}=(0,p.Eu)(),[r,t]=s.useState([]),[g,w]=s.useState(""),[F,b]=s.useState(0),C=(0,f.useRouter)(),E=(0,i.Z)({palette:{primary:{main:"#018294"},success:{main:"#A9C470"},error:{main:"#FE616A"}}});s.useEffect(()=>{v("")},[]),s.useEffect(()=>{console.log(r)},[r]);let S=j()(async e=>{try{let n=await (0,Z.Z)("users","name",e),s=n.filter(e=>"employee"==e.role);t(s),b(r.length)}catch(e){console.error("Error searching data:",e)}},500),v=e=>{w(e),S(e)},P=0;r&&r.map(e=>{e.salary&&(P+=parseInt(e.salary))});let _=P.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return"employee"==e?null:"admin"==e?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Z,{children:(0,n.jsx)(y.a,{theme:E,children:(0,n.jsxs)(a.ZP,{container:!0,columnSpacing:2,rowSpacing:0,sx:{height:"100%",width:"100%",pt:1},children:[(0,n.jsxs)(a.ZP,{item:!0,xs:12,sx:{mt:5},children:[(0,n.jsx)(c.Z,{sx:{fontSize:"2rem",fontWeight:"600"},children:"จัดการพนักงาน"}),(0,n.jsx)(o.Z,{sx:{mt:1},children:(0,n.jsx)(u.Z,{label:"ค้นหา",variant:"outlined",size:"small",onChange:e=>v(e.target.value),InputProps:{startAdornment:(0,n.jsx)(d.Z,{position:"start",children:(0,n.jsx)(m.Z,{sx:{fontSize:"1.4rem"}})})}})})]}),(0,n.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,n.jsx)(x.Z,{variant:"contained",color:"success",sx:{mr:2,mb:2,mt:2},onClick:function(){C.push("/employee/addemployee")},children:"เพิ่มพนักงาน"}),(0,n.jsx)(x.Z,{variant:"contained",sx:{mr:2,mb:2,mt:2},onClick:function(){C.push("/employee/former-employee")},children:"อดีตพนักงาน"})]}),(0,n.jsx)(a.ZP,{item:!0,sm:8,xs:12,children:r&&r.map(e=>(0,n.jsx)(h.default,{data:e},e.id))}),(0,n.jsx)(a.ZP,{item:!0,sm:4,xs:12,children:(0,n.jsxs)(o.Z,{sx:{backgroundColor:"#fff",boxShadow:" 4px 4px 4px 0px rgba(0, 0, 0, 0.25)",p:2,borderRadius:"20px"},children:[(0,n.jsx)(c.Z,{sx:{fontSize:"1.4vw",fontWeight:"600"},children:"ยอดค่าจ้าง"}),(0,n.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"center"},children:[(0,n.jsxs)(o.Z,{sx:{backgroundColor:"#80C1CA",m:1,p:2,borderRadius:"5px"},children:[(0,n.jsx)(c.Z,{sx:{color:"#FFFFFF",fontSize:"1vw"},children:"จำนวนลูกจ้าง"}),(0,n.jsxs)(c.Z,{sx:{color:"#FFFFFF"},children:[(0,n.jsx)("span",{style:{fontSize:"2vw",fontWeight:500,color:"#FE616A"},children:r.length}),"คน"]})]}),(0,n.jsxs)(o.Z,{sx:{backgroundColor:"#80C1CA",m:1,p:2,borderRadius:"5px"},children:[(0,n.jsx)(c.Z,{sx:{color:"#FFFFFF",fontSize:"1vw"},children:"จำนวนเงินที่ต้องจ่าย"}),(0,n.jsxs)(c.Z,{sx:{color:"#FFFFFF"},children:[(0,n.jsx)("span",{style:{fontSize:"2vw",fontWeight:500,color:"#FE616A"},children:_}),"บาท"]})]})]})]})})]})})})}):void 0}}},function(e){e.O(0,[2607,9078,7393,6298,6886,505,3717,3914,945,9747,8010,9774,2888,179],function(){return e(e.s=15021)}),_N_E=e.O()}]);