(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7726],{6600:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/productpage",function(){return o(35159)}])},59741:function(e,t){"use strict";t.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},17576:function(e,t,o){"use strict";o.d(t,{Z:function(){return T}});var n=o(85893),r=o(67294),l=o(66720),i=o(65582),s=o(68239),c=o(22430),a=o(2734),d=o(98396),h=o(42293),x=o(10155),u=o(83321),g=o(93946),p=o(69661),f=o(35294),j=o(4178),m=o(15861),Z=o(77533),b=o(78462),A=o(76113),w=o(48885),y=o(59334),k=o(326);let v=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var E=()=>{let[e,t]=r.useState(!1);return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(Z.ZP,{anchor:"left",open:e,onClose:()=>t(!1),children:(0,n.jsx)(b.Z,{children:v.map((e,t)=>(0,n.jsx)(A.Z,{children:(0,n.jsx)(w.Z,{children:(0,n.jsx)(y.Z,{children:e})})},t))})}),(0,n.jsx)(g.Z,{sx:{color:"black"},onClick:()=>t(!e),children:(0,n.jsx)(k.Z,{color:"white"})})]})},P=o(87357),D=o(59741),C=o(25675),F=o.n(C),S=o(41664),_=o.n(S),N=o(42761),W=o(46624),L=o(9669),R=o(50838),X=o(39332),B=o(49925);let I=["โปรไฟล์","ออกจากระบบ"];function O(){let[e,t]=r.useState(null),{role:o,user:l}=(0,R.Eu)();"admin"==o?(I=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(l)):"employee"==o?(I=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(l)):(I=["โปรไฟล์","ออกจากระบบ"],console.log(l));let[i,Z]=r.useState(""),[b,A]=r.useState(null),[w,y]=r.useState(null);r.useEffect(()=>{k()},[]);let k=async()=>{let e=l.uid,{result:o,error:n}=await (0,B.PR)("users",e);if(n)console.error("Error fetching collection:",n);else{let e=o.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));t(e)}},v=(0,L.v0)(),C=async()=>{try{await (0,L.w7)(v),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},S=(0,X.useRouter)(),O=e=>{"ออกจากระบบ"==e?C():"โปรไฟล์"==e?S.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==o?S.push("/dashboard"):S.push("/product"))};console.log("ทดสอบpath",S.pathname),r.useEffect(()=>{Z(S.pathname)},[S.pathname]);let T=(0,a.Z)();console.log(T);let M=(0,d.Z)(T.breakpoints.down("md"));console.log(M);let U=(0,s.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",i);let z={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,n.jsx)(c.Z,{theme:U,children:(0,n.jsx)(h.Z,{position:"static",sx:{background:"white"},children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(F(),{src:D.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),M?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(E,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>Z("/homepage"),children:(0,n.jsx)(P.Z,{sx:"/homepage"===i?z.activeLink:z.Box,children:(0,n.jsx)(u.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,n.jsx)(_(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>Z("/catalog"),children:(0,n.jsx)(P.Z,{sx:"/catalog"===i?z.activeLink:z.Box,children:(0,n.jsx)(u.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,n.jsx)(g.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,n.jsx)(N.Z,{})}),(0,n.jsx)(_(),{href:"/cart",children:(0,n.jsx)(g.Z,{color:"black",children:(0,n.jsx)(W.Z,{})})}),(0,n.jsx)(g.Z,{onClick:e=>{y(e.currentTarget)},sx:{p:0},children:e&&e.map((e,t)=>(0,n.jsx)(P.Z,{children:(0,n.jsx)(p.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},t))}),(0,n.jsx)(f.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:w,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!w,onClose:()=>{y(null)},children:I.map(e=>(0,n.jsx)(j.Z,{onClick:()=>O(e),children:(0,n.jsx)(m.Z,{textAlign:"center",children:e})},e))})]})]})})})}function T(e){let{children:t}=e,{user:o,isAdmin:s}=(0,R.Eu)(),c=(0,X.useRouter)();return r.useEffect(()=>{null==o&&c.push("/")},[o]),(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(l.ZP,{}),(0,n.jsxs)(i.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,n.jsx)(O,{}),t]})]})}},35159:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return w}});var n=o(85893),r=o(67294),l=o(87357),i=o(65582),s=o(12963),c=o(15861),a=o(83321),d=o(86886),h=o(66242),x=o(9974),u=o(83965),g=o(44267),p=o(49925),f=o(17576),j=o(96471),m=o(41664),Z=o.n(m),b=o(11163);function A(e){e.preventDefault(),console.info("You clicked a breadcrumb.")}function w(){let[e,t]=r.useState(null),o=(0,b.useRouter)(),m=JSON.parse(o.query.catalogData);r.useEffect(()=>{w(),console.log(e)},[]);let w=async()=>{if(m){console.log("Fetching data for catalogId:",m);let{result:e,error:o}=await (0,p._N)("products",{where:{catalog_id:m}});if(o)console.error("Error fetching collection:",o);else{let o=[];e.forEach(e=>{console.log("Document ID:",e.id);let t=e.data().catalog_id.id;null==e.data().delete&&t===m&&(console.log("Matching product found:",e.data()),o.push({id:e.id,...e.data()}))}),t(o)}}};return(0,n.jsx)(f.Z,{children:(0,n.jsxs)(l.Z,{sx:{height:"100vh",width:"100%"},children:[(0,n.jsx)(i.Z,{maxWidth:"false",sx:{display:"flex",justifyContent:"center",bgcolor:"#FAF8F1"},children:(0,n.jsxs)(l.Z,{sx:{width:"70vw",pt:2,pb:2},children:[(0,n.jsx)("div",{role:"presentation",onClick:A,children:(0,n.jsxs)(s.Z,{"aria-label":"Beger",children:[(0,n.jsx)(Z(),{style:{textDecoration:"none",color:"inherit"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/homepage",children:"หน้าแรก"}),(0,n.jsx)(Z(),{style:{textDecoration:"none",color:"inherit"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/catalog",children:"แคตตาล็อก"}),(0,n.jsx)(c.Z,{color:"text.primary",children:"ผลิตภัณฑ์"})]})}),(0,n.jsx)(Z(),{style:{textDecoration:"none"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/catalog",children:(0,n.jsx)(l.Z,{sx:{pt:2},children:(0,n.jsxs)(a.Z,{sx:{color:"#018294",bgcolor:"white",fontWeight:"bold",borderRadius:"50px",boxShadow:"4px 4px 4px 0px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsx)(j.Z,{}),(0,n.jsx)(c.Z,{children:" ย้อนกลับ"})]})})})]})}),(0,n.jsx)(i.Z,{maxWidth:!1,sx:{display:"flex",justifyContent:"center",bgcolor:"white"},children:(0,n.jsx)(l.Z,{sx:{p:3,width:"70vw"},children:(0,n.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(d.ZP,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"block"}},children:(0,n.jsxs)(l.Z,{sx:{p:2,bgcolor:"white",border:"1px solid #7a7a7a"},children:[(0,n.jsx)(c.Z,{variant:"h4",sx:{fontWeight:"bold",pb:2,color:"#7A7A7A",fontSize:"20px"},children:"ฟิล์มสี"}),(0,n.jsx)(l.Z,{sx:{borderTop:"1px solid #7a7a7a",pt:2}}),e&&e.map(e=>(0,n.jsx)(l.Z,{children:(0,n.jsx)(c.Z,{children:e.film})},e.id))]})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:9,children:(0,n.jsx)(d.ZP,{container:!0,spacing:2,children:e&&e.map(e=>(0,n.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsx)(h.Z,{sx:{maxWidth:350,height:"100%",display:"flex",flexDirection:"column"},onClick:()=>{var t;return t=e.id,void o.push({pathname:"/colorselect/",query:{catalogData:JSON.stringify(m),productId:JSON.stringify(t)}})},children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(u.Z,{component:"img",height:"200",image:e.img,alt:e.name}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(c.Z,{variant:"h6",sx:{fontWeight:"bold",pb:2,color:"#018294",fontSize:{xs:"1rem",sm:"1rem",md:"1rem"},textAlign:"left"},children:e.name}),(0,n.jsx)(l.Z,{sx:{width:"58px",height:"3px",bgcolor:"#FE616A",ml:0}}),(0,n.jsxs)(c.Z,{sx:{color:"#FE616A",fontWeight:"bold",textAlign:"left",mt:1},children:[e.productSizes[0].price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"บาท"]})]})]})})},e.id))})})]})})})]})})}o(36100)}},function(e){e.O(0,[2607,7609,5675,6298,6185,1283,3717,3914,7451,6330,9774,2888,179],function(){return e(e.s=6600)}),_N_E=e.O()}]);