(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{22961:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var l=i(n(64938)),r=n(85893),o=(0,l.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=o},72450:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var l=i(n(64938)),r=n(85893),o=(0,l.default)((0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=o},66720:function(e,t,n){"use strict";var i=n(87462),l=n(67294),r=n(71657),o=n(17297),a=n(85893);let s=(e,t)=>(0,i.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),d=e=>(0,i.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),u=(e,t=!1)=>{var n,l;let r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([t,n])=>{var i;r[e.getColorSchemeSelector(t).replace(/\s*&/,"")]={colorScheme:null==(i=n.palette)?void 0:i.mode}});let o=(0,i.Z)({html:s(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,i.Z)({margin:0},d(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r),a=null==(n=e.components)?void 0:null==(l=n.MuiCssBaseline)?void 0:l.styleOverrides;return a&&(o=[o,a]),o};t.ZP=function(e){let t=(0,r.Z)({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:i=!1}=t;return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(o.Z,{styles:e=>u(e,i)}),n]})}},87109:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var i,l=n(63366),r=n(87462),o=n(67294),a=n(86010),s=n(94780),d=n(98216),u=n(15861),c=n(47167),m=n(74423),p=n(90948),h=n(1588),v=n(34867);function x(e){return(0,v.Z)("MuiInputAdornment",e)}let f=(0,h.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=n(71657),b=n(85893);let Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:i,position:l,size:r,variant:o}=e,a={root:["root",n&&"disablePointerEvents",l&&`position${(0,d.Z)(l)}`,o,i&&"hiddenLabel",r&&`size${(0,d.Z)(r)}`]};return(0,s.Z)(a,x,t)},_=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`position${(0,d.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(({theme:e,ownerState:t})=>(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${f.positionStart}&:not(.${f.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),y=o.forwardRef(function(e,t){let n=(0,g.Z)({props:e,name:"MuiInputAdornment"}),{children:s,className:d,component:p="div",disablePointerEvents:h=!1,disableTypography:v=!1,position:x,variant:f}=n,y=(0,l.Z)(n,Z),S=(0,m.Z)()||{},z=f;f&&S.variant,S&&!z&&(z=S.variant);let w=(0,r.Z)({},n,{hiddenLabel:S.hiddenLabel,size:S.size,disablePointerEvents:h,position:x,variant:z}),C=j(w);return(0,b.jsx)(c.Z.Provider,{value:null,children:(0,b.jsx)(_,(0,r.Z)({as:p,ownerState:w,className:(0,a.Z)(C.root,d),ref:t},y,{children:"string"!=typeof s||v?(0,b.jsxs)(o.Fragment,{children:["start"===x?i||(i=(0,b.jsx)("span",{className:"notranslate",children:"​"})):null,s]}):(0,b.jsx)(u.Z,{color:"text.secondary",children:s})}))})});var S=y},7572:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(59207)}])},53233:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(11802),l=n(36100);let r=(0,l.ad)(i.Z);async function o(e,t,n){let i=null,o=null;if(n.catalog_id){let e=(0,l.JU)(r,"catalog",n.catalog_id);n.catalog_id=e}try{i=await (0,l.pl)((0,l.JU)(r,e,t),n,{merge:!0}),console.log("แก้ไขสำเร็จ",i)}catch(e){console.error("เกิดข้อผิดพลาดในการแก้ไขข้อมูล:",o=e)}return{result:i,error:o}}},59207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i=n(85893),l=n(68239),r=n(22430),o=n(66720),a=n(65582),s=n(87357),d=n(86886),u=n(15861),c=n(83321),m=n(98271),p=n(87109),h=n(93946),v=n(43665),x=n(25675),f=n.n(x),g=n(67294),b=n(11802),Z=n(9669),j=n(36100);let _=(0,j.ad)(b.Z);async function y(e,t,n){let i=null,l=null;try{i=await (0,j.pl)((0,j.JU)(_,e,t),n,{merge:!0}),console.log("เพิ่มข้อมูลสำเร็จ",i)}catch(e){console.error("เกิดข้อผิดพลาดในการเพิ่มข้อมูล:",l=e)}return{result:i,error:l}}n(53233);let S=(0,Z.v0)(b.Z);async function z(e,t,n,i,l,r,o,a,s,d){let u=null;try{u=await (0,Z.Xb)(S,e,t);let c=u.user,m={uid:c.uid,email:c.email,name:l,addresses:[{address:n,province:o,amphure:a,tambon:s,zipcode:d}],tel:i,profileUrl:r,role:"user"};await y("users",c.uid,m),console.log("สร้างผู้ใช้สำเร็จ:"+c.uid)}catch(e){return console.error("เกิดข้อผิดพลาดในการเพิ่มข้อมูลผู้ใช้:",e),{result:null,error:e}}return{result:u,error:null}}var w=n(11163),C=n(22961),P=n(72450);function E(){let[e,t]=(0,g.useState)("default-profile.jpg"),[n,x]=(0,g.useState)(null),[b,Z]=(0,g.useState)(null),[j,_]=(0,g.useState)(null),[y,S]=(0,g.useState)(null),[E,k]=(0,g.useState)(null),[W,I]=(0,g.useState)(null),[M,L]=(0,g.useState)([]),[A,N]=(0,g.useState)([]),[O,R]=(0,g.useState)([]),[F,T]=(0,g.useState)(void 0),[q,U]=(0,g.useState)(void 0),[$,B]=(0,g.useState)(void 0),[J,X]=(0,g.useState)(void 0),[D,V]=(0,g.useState)(!0),[G,H]=(0,g.useState)({province_id:void 0,amphure_id:void 0,tambon_id:void 0});(0,g.useEffect)(()=>{var e,t,n,i,l,r;if(console.log(G),M){let n=null===(e=M.find(e=>e.id===G.province_id))||void 0===e?void 0:e.amphure;N(n);let i=null===(t=M.find(e=>e.id===G.province_id))||void 0===t?void 0:t.name_th;T(i)}if(A){let e=null===(n=A.find(e=>e.id===G.amphure_id))||void 0===n?void 0:n.tambon;R(e);let t=null===(i=A.find(e=>e.id===G.amphure_id))||void 0===i?void 0:i.name_th;U(t)}if(O){let e=null===(l=O.find(e=>e.id===G.tambon_id))||void 0===l?void 0:l.name_th,t=null===(r=O.find(e=>e.id===G.tambon_id))||void 0===r?void 0:r.zip_code;B(e),X(t)}},[G,M,A,O]);let K=(0,w.useRouter)();(0,g.useEffect)(()=>{fetch("https://raw.githubusercontent.com/kongvut/thai-province-data/master/api_province_with_amphure_tambon.json",{method:"GET",redirect:"follow"}).then(e=>e.json()).then(e=>{L(e)}).catch(e=>console.log("error",e))},[]);let Q=async t=>{if(t.preventDefault(),E==W)return await z(y,E,j,b,n,e,F,q,$,J),V(!0),K.push("/homepage");V(!1)},[Y,ee]=(0,g.useState)(!1),[et,en]=(0,g.useState)(!1),ei=(0,l.Z)({palette:{primary:{main:"#FE616A"}}});return(0,i.jsx)(r.Z,{theme:ei,children:(0,i.jsxs)(g.Fragment,{children:[(0,i.jsx)(o.ZP,{}),(0,i.jsx)(a.Z,{maxWidth:"sx",style:{padding:"0px"},children:(0,i.jsx)(s.Z,{children:(0,i.jsx)("form",{onSubmit:Q,className:"form",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,i.jsx)(s.Z,{sx:{width:"100%"},children:(0,i.jsxs)(d.ZP,{container:!0,spacing:2,sx:{backgroundColor:"#fff",p:1,borderRadius:"10px",boxShadow:"4px 4px 4px 0px rgba(0, 0, 0, 0.25)"},children:[(0,i.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,i.jsxs)(s.Z,{sx:{textAlign:"center"},children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(u.Z,{sx:{fontSize:"2vw",fontWeight:"600"},children:"สร้างบัญชี"}),e&&(0,i.jsx)(f(),{src:e,alt:"Uploaded Image",priority:!0,height:"150",width:"150",style:{borderRadius:"100px",border:"1px solid rgba(0, 0, 0, 0.50)"}})]}),(0,i.jsxs)("label",{htmlFor:"upload-image",children:[(0,i.jsx)(c.Z,{variant:"contained",component:"span",children:"เพิ่มรูปโปรไฟล์"}),(0,i.jsx)("input",{id:"upload-image",hidden:!0,accept:"image/*",type:"file",onChange:n=>{let i=n.target.files[0];if(!i){console.error("No file selected."),t("/../public/default-profile.jpg");return}let l=new FileReader;l.onloadend=()=>{t(l.result)},l.readAsDataURL(i),console.log(e)}})]})]})}),(0,i.jsxs)(d.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(m.Z,{variant:"outlined",label:"ชื่อ",fullWidth:!0,required:!0,size:"small",sx:{mt:1,mb:1},onChange:e=>x(e.target.value)}),(0,i.jsx)(m.Z,{variant:"outlined",label:"อีเมล",fullWidth:!0,required:!0,size:"small",sx:{mt:1,mb:1},onChange:e=>S(e.target.value)}),(0,i.jsx)(m.Z,{color:D?"":"error",variant:"outlined",type:Y?"text":"password",label:"รหัสผ่าน",fullWidth:!0,required:!0,size:"small",sx:{mt:1,mb:1},error:!D,helperText:D?"":"รหัสผ่านไม่ตรงกัน",onChange:e=>k(e.target.value),InputProps:{endAdornment:(0,i.jsx)(p.Z,{position:"end",children:(0,i.jsx)(h.Z,{onClick:()=>{ee(e=>!e)},edge:"end",children:Y?(0,i.jsx)(P.Z,{}):(0,i.jsx)(C.Z,{})})})}}),(0,i.jsx)(m.Z,{variant:"outlined",type:et?"text":"password",label:"ยืนยันรหัสผ่าน",fullWidth:!0,error:!D,required:!0,size:"small",sx:{mt:1,mb:1},helperText:D?"":"รหัสผ่านไม่ตรงกัน",onChange:e=>I(e.target.value),InputProps:{endAdornment:(0,i.jsx)(p.Z,{position:"end",children:(0,i.jsx)(h.Z,{onClick:()=>{en(e=>!e)},edge:"end",children:et?(0,i.jsx)(P.Z,{}):(0,i.jsx)(C.Z,{})})})}}),(0,i.jsx)(m.Z,{variant:"outlined",label:"เบอร์ติดต่อ",fullWidth:!0,required:!0,size:"small",sx:{mt:1,mb:1},onChange:e=>Z(e.target.value)})]}),(0,i.jsxs)(d.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(m.Z,{variant:"outlined",label:"บ้านเลขที่",fullWidth:!0,required:!0,size:"small",sx:{mt:1,mb:1},onChange:e=>_(e.target.value)}),(0,i.jsx)(v.Z,{disablePortal:!0,options:M,getOptionLabel:e=>e.name_th,onChange:(e,t)=>{H(e=>({...e,province_id:t?t.id:void 0,amphure_id:void 0,tambon_id:void 0}))},fullWidth:!0,required:!0,size:"small",sx:{mt:1,mb:1},renderInput:e=>(0,i.jsx)(m.Z,{...e,label:"จังหวัด"})}),(0,i.jsx)(v.Z,{disablePortal:!0,options:A||[],getOptionLabel:e=>e.name_th,onChange:(e,t)=>{H(e=>({...e,amphure_id:t?t.id:void 0,tambon_id:void 0}))},fullWidth:!0,size:"small",sx:{mt:2,mb:1},renderInput:e=>(0,i.jsx)(m.Z,{...e,label:"อำเภอ"})}),(0,i.jsx)(v.Z,{disablePortal:!0,options:O||[],getOptionLabel:e=>e.name_th,onChange:(e,t)=>{H(e=>({...e,tambon_id:t?t.id:void 0}))},fullWidth:!0,size:"small",sx:{mt:2,mb:1},renderInput:e=>(0,i.jsx)(m.Z,{...e,label:"ตำบล"})})]}),(0,i.jsx)(d.ZP,{item:!0,xs:12,sm:12,sx:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(c.Z,{variant:"contained",sx:{mb:2},type:"submit",children:"สร้างบัญชี"})})]})})})})})]})})}},11163:function(e,t,n){e.exports=n(96885)}},function(e){e.O(0,[2607,7609,5675,6298,6185,1283,8360,8271,6078,3665,9774,2888,179],function(){return e(e.s=7572)}),_N_E=e.O()}]);