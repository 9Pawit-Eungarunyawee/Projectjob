(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1875],{90418:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/colorselect",function(){return t(50429)}])},59741:function(e,o){"use strict";o.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},17576:function(e,o,t){"use strict";t.d(o,{Z:function(){return W}});var n=t(85893),l=t(67294),r=t(66720),i=t(65582),s=t(68239),a=t(22430),c=t(2734),d=t(98396),h=t(42293),x=t(10155),u=t(83321),g=t(93946),p=t(69661),f=t(35294),j=t(4178),Z=t(15861),m=t(77533),b=t(78462),y=t(76113),w=t(48885),A=t(59334),k=t(326);let v=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var C=()=>{let[e,o]=l.useState(!1);return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(m.ZP,{anchor:"left",open:e,onClose:()=>o(!1),children:(0,n.jsx)(b.Z,{children:v.map((e,o)=>(0,n.jsx)(y.Z,{children:(0,n.jsx)(w.Z,{children:(0,n.jsx)(A.Z,{children:e})})},o))})}),(0,n.jsx)(g.Z,{sx:{color:"black"},onClick:()=>o(!e),children:(0,n.jsx)(k.Z,{color:"white"})})]})},D=t(87357),E=t(59741),_=t(25675),S=t.n(_),P=t(41664),F=t.n(P),I=t(42761),N=t(46624),O=t(9669),T=t(50838),L=t(39332),R=t(49925);let X=["โปรไฟล์","ออกจากระบบ"];function M(){let[e,o]=l.useState(null),{role:t,user:r}=(0,T.Eu)();"admin"==t?(X=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(r)):"employee"==t?(X=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(r)):(X=["โปรไฟล์","ออกจากระบบ"],console.log(r));let[i,m]=l.useState(""),[b,y]=l.useState(null),[w,A]=l.useState(null);l.useEffect(()=>{k()},[]);let k=async()=>{let e=r.uid,{result:t,error:n}=await (0,R.PR)("users",e);if(n)console.error("Error fetching collection:",n);else{let e=t.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));o(e)}},v=(0,O.v0)(),_=async()=>{try{await (0,O.w7)(v),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},P=(0,L.useRouter)(),M=e=>{"ออกจากระบบ"==e?_():"โปรไฟล์"==e?P.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==t?P.push("/dashboard"):P.push("/product"))};console.log("ทดสอบpath",P.pathname),l.useEffect(()=>{m(P.pathname)},[P.pathname]);let W=(0,c.Z)();console.log(W);let B=(0,d.Z)(W.breakpoints.down("md"));console.log(B);let U=(0,s.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",i);let q={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,n.jsx)(a.Z,{theme:U,children:(0,n.jsx)(h.Z,{position:"static",sx:{background:"white"},children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(S(),{src:E.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),B?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>m("/homepage"),children:(0,n.jsx)(D.Z,{sx:"/homepage"===i?q.activeLink:q.Box,children:(0,n.jsx)(u.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,n.jsx)(F(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>m("/catalog"),children:(0,n.jsx)(D.Z,{sx:"/catalog"===i?q.activeLink:q.Box,children:(0,n.jsx)(u.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,n.jsx)(g.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,n.jsx)(I.Z,{})}),(0,n.jsx)(F(),{href:"/cart",children:(0,n.jsx)(g.Z,{color:"black",children:(0,n.jsx)(N.Z,{})})}),(0,n.jsx)(g.Z,{onClick:e=>{A(e.currentTarget)},sx:{p:0},children:e&&e.map((e,o)=>(0,n.jsx)(D.Z,{children:(0,n.jsx)(p.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},o))}),(0,n.jsx)(f.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:w,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!w,onClose:()=>{A(null)},children:X.map(e=>(0,n.jsx)(j.Z,{onClick:()=>M(e),children:(0,n.jsx)(Z.Z,{textAlign:"center",children:e})},e))})]})]})})})}function W(e){let{children:o}=e,{user:t,isAdmin:s}=(0,T.Eu)(),a=(0,L.useRouter)();return l.useEffect(()=>{null==t&&a.push("/")},[t]),(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(r.ZP,{}),(0,n.jsxs)(i.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,n.jsx)(M,{}),o]})]})}},50429:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return k}});var n=t(85893),l=t(67294),r=t(87357),i=t(65582),s=t(12963),a=t(15861),c=t(83321),d=t(88409),h=t(40044),x=t(86886),u=t(66242),g=t(9974),p=t(44267),f=t(17576),j=t(96471),Z=t(41664),m=t.n(Z),b=t(11163),y=t(49925),w=t(68239),A=t(22430);function k(){let[e,o]=l.useState(0),t=(0,b.useRouter)(),[Z,k]=l.useState(null),[v,C]=l.useState(null),[D,E]=l.useState(null),_=JSON.parse(t.query.catalogData),S=JSON.parse(t.query.productId);l.useEffect(()=>{F(),P()},[]),l.useEffect(()=>{D&&D.length>0&&(o(0),C(D[0].id))},[D]),l.useEffect(()=>{console.log(Z),console.log(D)},[Z,D]);let P=async()=>{let{result:e,error:o}=await (0,y._N)("colorshade");if(o)console.error("Error fetching collection:",o);else{let o=[];e.forEach(e=>{console.log("Colorshade ID:",e.id),console.log("Colorshade data:",e.data()),o.push({id:e.id,...e.data()})}),console.log(o),E(o)}},F=async()=>{if(_){console.log("Fetching data for catalogId:",_);let{result:e,error:o}=await (0,y._N)("colors",{where:{catalog_id:_}});if(o)console.error("Error fetching collection:",o);else{let o=[];e.forEach(e=>{console.log("Document ID:",e.id);let t=e.data().catalog_id.id;if(console.log(_),t===_){console.log("Matching color:",e.data());let t={id:e.id,...e.data()};if(e.data().colorshade_id){let o=e.data().colorshade_id.id;t.colorshade_id=o}console.log(t),o.push(t)}}),console.log(o),k(o)}}},I=(0,w.Z)({components:{MuiTabs:{styleOverrides:{flexContainer:{alignItems:"center"}},indicator:{backgroundColor:"transparent",display:"none"}}}}),N={tab:{width:"80px",height:"90px",boxShadow:"none",transition:"width 0.2s, height 0.2s, box-shadow 0.2s"},activeTab:{width:"100px",height:"110px",border:"none",boxShadow:"4px 0px 4px 0px rgba(0, 0, 0, 0.25)",zIndex:"1"}};return(0,n.jsx)(f.Z,{children:(0,n.jsx)(A.Z,{theme:I,children:(0,n.jsxs)(r.Z,{sx:{width:"100%",height:"40vh"},children:[(0,n.jsx)(i.Z,{maxWidth:"false",sx:{display:"flex",justifyContent:"center",bgcolor:"#FAF8F1"},children:(0,n.jsxs)(r.Z,{sx:{width:"70vw",pt:2,pb:2},children:[(0,n.jsx)("div",{role:"presentation",onClick:function(e){e.preventDefault(),console.info("You clicked a breadcrumb.")},children:(0,n.jsxs)(s.Z,{"aria-label":"Beger",children:[(0,n.jsx)(m(),{style:{textDecoration:"none",color:"inherit"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/homepage",children:"หน้าแรก"}),(0,n.jsx)(m(),{style:{textDecoration:"none",color:"inherit"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/catalog",children:"แคตตาล็อก"}),(0,n.jsx)(m(),{style:{textDecoration:"none",color:"inherit"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/productpage?catalogData=".concat(t.query.catalogData),children:"ผลิตภัณฑ์"}),(0,n.jsx)(a.Z,{color:"text.primary",children:"เลือกสี"})]})}),(0,n.jsx)(m(),{style:{textDecoration:"none"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/productpage?catalogData=".concat(t.query.catalogData),children:(0,n.jsx)(r.Z,{sx:{pt:2},children:(0,n.jsxs)(c.Z,{sx:{color:"#018294",bgcolor:"white",fontWeight:"bold",borderRadius:"50px",boxShadow:"4px 4px 4px 0px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsx)(j.Z,{}),(0,n.jsx)(a.Z,{children:" ย้อนกลับ"})]})})})]})}),(0,n.jsx)(i.Z,{maxWidth:!1,sx:{display:"flex",justifyContent:"center",bgcolor:"white"},children:(0,n.jsxs)(r.Z,{sx:{p:3,width:"70vw"},children:[(0,n.jsx)(a.Z,{variant:"h4",sx:{pb:2,color:"#018294",textAlign:"center"},children:"เฉดสี"}),(0,n.jsx)(d.Z,{value:e,onChange:(e,t)=>{o(t)},centered:!0,"aria-label":"basic tabs example",sx:{p:2,"& .css-1aquho2-MuiTabs-indicator":{display:"none"}},children:D&&D.map((t,l)=>(0,n.jsx)(h.Z,{sx:{...N.tab,backgroundColor:t.code,...e===l?N.activeTab:{}},onClick:()=>{console.log("Tab Clicked with Index and ID:",l,t.id),o(l),C(t.id)}},l))}),(0,n.jsx)(r.Z,{sx:{p:3},children:(0,n.jsx)(x.ZP,{container:!0,spacing:2,children:Z&&Z.map(e=>(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:2,sx:{display:e.colorshade_id===v?"":"none"},children:v&&e.colorshade_id===v?(0,n.jsx)(u.Z,{sx:{maxWidth:300},onClick:()=>{var o;return o=e.id,void t.push({pathname:"/productsdetail/",query:{catalogData:JSON.stringify(_),productId:JSON.stringify(S),colorId:JSON.stringify(o)}})},children:(0,n.jsx)(g.Z,{children:(0,n.jsxs)(p.Z,{sx:{backgroundColor:e.code,height:150},children:[(0,n.jsx)(a.Z,{children:e.code_name}),(0,n.jsx)(a.Z,{children:e.name})]})})}):(0,n.jsx)(u.Z,{sx:{maxWidth:300,display:"none"},children:(0,n.jsx)(g.Z,{children:(0,n.jsx)(p.Z,{})})})},e.id))})})]})})]})})})}}},function(e){e.O(0,[2607,7609,5675,6298,6185,1283,3717,3914,7451,837,9600,9774,2888,179],function(){return e(e.s=90418)}),_N_E=e.O()}]);