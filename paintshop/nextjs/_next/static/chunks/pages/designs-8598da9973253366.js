(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4239],{71579:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(67294),l=function(e,n){return r.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)}},62548:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/designs",function(){return t(66515)}])},59741:function(e,n){"use strict";n.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},17576:function(e,n,t){"use strict";t.d(n,{Z:function(){return V}});var r=t(85893),l=t(67294),i=t(66720),o=t(65582),s=t(68239),c=t(22430),a=t(2734),h=t(98396),u=t(42293),d=t(10155),x=t(83321),g=t(93946),f=t(69661),p=t(35294),m=t(4178),j=t(15861),Z=t(77533),A=t(78462),b=t(76113),k=t(48885),w=t(59334),E=t(326);let v=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var y=()=>{let[e,n]=l.useState(!1);return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(Z.ZP,{anchor:"left",open:e,onClose:()=>n(!1),children:(0,r.jsx)(A.Z,{children:v.map((e,n)=>(0,r.jsx)(b.Z,{children:(0,r.jsx)(k.Z,{children:(0,r.jsx)(w.Z,{children:e})})},n))})}),(0,r.jsx)(g.Z,{sx:{color:"black"},onClick:()=>n(!e),children:(0,r.jsx)(E.Z,{color:"white"})})]})},P=t(87357),C=t(59741),F=t(25675),_=t.n(F),L=t(41664),X=t.n(L),N=t(42761),R=t(46624),S=t(9669),B=t(50838),D=t(39332),O=t(49925);let T=["โปรไฟล์","ออกจากระบบ"];function U(){let[e,n]=l.useState(null),{role:t,user:i}=(0,B.Eu)();"admin"==t?(T=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(i)):"employee"==t?(T=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(i)):(T=["โปรไฟล์","ออกจากระบบ"],console.log(i));let[o,Z]=l.useState(""),[A,b]=l.useState(null),[k,w]=l.useState(null);l.useEffect(()=>{E()},[]);let E=async()=>{let e=i.uid,{result:t,error:r}=await (0,O.PR)("users",e);if(r)console.error("Error fetching collection:",r);else{let e=t.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));n(e)}},v=(0,S.v0)(),F=async()=>{try{await (0,S.w7)(v),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},L=(0,D.useRouter)(),U=e=>{"ออกจากระบบ"==e?F():"โปรไฟล์"==e?L.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==t?L.push("/dashboard"):L.push("/product"))};console.log("ทดสอบpath",L.pathname),l.useEffect(()=>{Z(L.pathname)},[L.pathname]);let V=(0,a.Z)();console.log(V);let I=(0,h.Z)(V.breakpoints.down("md"));console.log(I);let M=(0,s.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",o);let G={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,r.jsx)(c.Z,{theme:M,children:(0,r.jsx)(u.Z,{position:"static",sx:{background:"white"},children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(_(),{src:C.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),I?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>Z("/homepage"),children:(0,r.jsx)(P.Z,{sx:"/homepage"===o?G.activeLink:G.Box,children:(0,r.jsx)(x.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,r.jsx)(X(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>Z("/catalog"),children:(0,r.jsx)(P.Z,{sx:"/catalog"===o?G.activeLink:G.Box,children:(0,r.jsx)(x.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,r.jsx)(g.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,r.jsx)(N.Z,{})}),(0,r.jsx)(X(),{href:"/cart",children:(0,r.jsx)(g.Z,{color:"black",children:(0,r.jsx)(R.Z,{})})}),(0,r.jsx)(g.Z,{onClick:e=>{w(e.currentTarget)},sx:{p:0},children:e&&e.map((e,n)=>(0,r.jsx)(P.Z,{children:(0,r.jsx)(f.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},n))}),(0,r.jsx)(p.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:k,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!k,onClose:()=>{w(null)},children:T.map(e=>(0,r.jsx)(m.Z,{onClick:()=>U(e),children:(0,r.jsx)(j.Z,{textAlign:"center",children:e})},e))})]})]})})})}function V(e){let{children:n}=e,{user:t,isAdmin:s}=(0,B.Eu)(),c=(0,D.useRouter)();return l.useEffect(()=>{null==t&&c.push("/")},[t]),(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(i.ZP,{}),(0,r.jsxs)(o.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,r.jsx)(U,{}),n]})]})}},66515:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var r=t(85893);t(67294);var l=t(17576),i=t(87357),o=t(15861);function s(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{children:(0,r.jsx)(i.Z,{sx:{height:"100vh",width:"100%"},children:(0,r.jsx)(o.Z,{children:"ออกแบบ"})})})})}}},function(e){e.O(0,[2607,7609,5675,6298,1283,3717,3914,7451,9774,2888,179],function(){return e(e.s=62548)}),_N_E=e.O()}]);