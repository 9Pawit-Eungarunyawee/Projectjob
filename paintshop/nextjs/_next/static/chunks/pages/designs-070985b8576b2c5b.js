(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4239],{62548:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/designs",function(){return r(66515)}])},59741:function(e,t){"use strict";t.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},17576:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(85893),l=r(67294),o=r(66720),i=r(65582),a=r(68239),s=r(22430),c=r(2734),u=r(98396),h=r(42293),d=r(10155),x=r(83321),f=r(93946),g=r(69661),p=r(35294),m=r(4178),j=r(15861),Z=r(77533),A=r(78462),w=r(76113),y=r(48885),b=r(59334),k=r(326);let P=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var E=()=>{let[e,t]=l.useState(!1);return(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(Z.ZP,{anchor:"left",open:e,onClose:()=>t(!1),children:(0,n.jsx)(A.Z,{children:P.map((e,t)=>(0,n.jsx)(w.Z,{children:(0,n.jsx)(y.Z,{children:(0,n.jsx)(b.Z,{children:e})})},t))})}),(0,n.jsx)(f.Z,{sx:{color:"black"},onClick:()=>t(!e),children:(0,n.jsx)(k.Z,{color:"white"})})]})},v=r(87357),C=r(59741),L=r(25675),_=r.n(L),F=r(41664),U=r.n(F),T=r(42761),J=r(46624),X=r(9669),I=r(50838),N=r(39332),O=r(49925);let R=["โปรไฟล์","ออกจากระบบ"];function S(){let[e,t]=l.useState(null),{role:r,user:o}=(0,I.Eu)();"admin"==r?(R=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(o)):"employee"==r?(R=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(o)):(R=["โปรไฟล์","ออกจากระบบ"],console.log(o));let[i,Z]=l.useState(""),[A,w]=l.useState(null),[y,b]=l.useState(null);l.useEffect(()=>{k()},[]);let k=async()=>{let e=o.uid,{result:r,error:n}=await (0,O.PR)("users",e);if(n)console.error("Error fetching collection:",n);else{let e=r.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));t(e)}},P=(0,X.v0)(),L=async()=>{try{await (0,X.w7)(P),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},F=(0,N.useRouter)(),S=e=>{"ออกจากระบบ"==e?L():"โปรไฟล์"==e?F.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==r?F.push("/dashboard"):F.push("/product"))};console.log("ทดสอบpath",F.pathname),l.useEffect(()=>{Z(F.pathname)},[F.pathname]);let B=(0,c.Z)();console.log(B);let D=(0,u.Z)(B.breakpoints.down("md"));console.log(D);let M=(0,a.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",i);let V={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,n.jsx)(s.Z,{theme:M,children:(0,n.jsx)(h.Z,{position:"static",sx:{background:"white"},children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(_(),{src:C.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),D?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(E,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>Z("/homepage"),children:(0,n.jsx)(v.Z,{sx:"/homepage"===i?V.activeLink:V.Box,children:(0,n.jsx)(x.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,n.jsx)(U(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>Z("/catalog"),children:(0,n.jsx)(v.Z,{sx:"/catalog"===i?V.activeLink:V.Box,children:(0,n.jsx)(x.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,n.jsx)(f.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,n.jsx)(T.Z,{})}),(0,n.jsx)(U(),{href:"/cart",children:(0,n.jsx)(f.Z,{color:"black",children:(0,n.jsx)(J.Z,{})})}),(0,n.jsx)(f.Z,{onClick:e=>{b(e.currentTarget)},sx:{p:0},children:e&&e.map((e,t)=>(0,n.jsx)(v.Z,{children:(0,n.jsx)(g.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},t))}),(0,n.jsx)(p.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!y,onClose:()=>{b(null)},children:R.map(e=>(0,n.jsx)(m.Z,{onClick:()=>S(e),children:(0,n.jsx)(j.Z,{textAlign:"center",children:e})},e))})]})]})})})}function B(e){let{children:t}=e,{user:r,isAdmin:a}=(0,I.Eu)(),s=(0,N.useRouter)();return l.useEffect(()=>{null==r&&s.push("/")},[r]),(0,n.jsxs)(l.Fragment,{children:[(0,n.jsx)(o.ZP,{}),(0,n.jsxs)(i.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,n.jsx)(S,{}),t]})]})}},49925:function(e,t,r){"use strict";r.d(t,{EC:function(){return s},Eq:function(){return u},KL:function(){return c},PR:function(){return h},ZP:function(){return i},_N:function(){return a},wv:function(){return d}});var n=r(11802),l=r(36100);let o=(0,l.ad)(n.Z);async function i(e,t){let r=(0,l.JU)(o,e,t);try{let e=await (0,l.QT)(r);return{result:e,error:null}}catch(e){return{result:null,error:e}}}let a=async e=>{let t=await (0,l.PL)((0,l.hJ)(o,e));return{result:t,error:null}},s=async(e,t)=>{let r=(0,l.JU)(o,"catalog",t),n=(0,l.IO)((0,l.hJ)(o,e),(0,l.ar)("catalog_id","==",r)),i=await (0,l.PL)(n);return{result:i,error:null}},c=async e=>{let t=[];for(let r of e){let e=await (0,l.QT)((0,l.JU)(o,"products",r));if(e.exists()){let n=e.data(),l={id:r,...n};t.push(l)}}return t},u=async e=>{let t=[];for(let r of e){let e=await (0,l.QT)((0,l.JU)(o,"colors",r));if(e.exists()){let n=e.data(),l={id:r,...n};t.push(l)}}return t},h=async(e,t)=>{let r=(0,l.IO)((0,l.hJ)(o,e),(0,l.ar)("uid","==",String(t))),n=await (0,l.PL)(r);return n.forEach(e=>{console.log(e.id," => ",e.data())}),{result:n,error:null}},d=async(e,t)=>{let r=(0,l.JU)(o,"catalog",t),n=await (0,l.QT)(r);if(!n.exists())return console.error("Catalog document not found"),{result:null,error:"Catalog document not found"};let i=(0,l.IO)((0,l.hJ)(o,e),(0,l.ar)("catalog_id","==",r));try{let e=await (0,l.PL)(i);return e.forEach(e=>{console.log(e.id," => ",e.data())}),{result:e,error:null}}catch(e){return console.error("Error getting products: ",e),{result:null,error:e}}}},66515:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(85893);r(67294);var l=r(17576),o=r(87357),i=r(15861);function a(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Z,{children:(0,n.jsx)(o.Z,{sx:{height:"100vh",width:"100%"},children:(0,n.jsx)(i.Z,{children:"ออกแบบ"})})})})}}},function(e){e.O(0,[2607,9078,7393,6298,505,3717,3914,7451,9774,2888,179],function(){return e(e.s=62548)}),_N_E=e.O()}]);