(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6678],{15021:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employee",function(){return n(49442)}])},726:function(e,r,n){"use strict";n.d(r,{Z:function(){return o}});var s=n(36100),t=n(11802);let i=(0,s.ad)(t.Z);async function o(e,r,n){try{let t=r.toLowerCase(),o=n.toLowerCase(),l=(0,s.IO)((0,s.hJ)(i,e),(0,s.Xo)(t)),a=await (0,s.PL)(l),c=a.docs.filter(e=>{let r=e.data()[t];return r&&-1!==r.toLowerCase().indexOf(o)}).map(e=>({id:e.id,...e.data()}));return c}catch(e){throw console.error("Error searching data:",e),e}}},72479:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return u}});var s=n(85893),t=n(67294),i=n(66242),o=n(44267),l=n(15861),a=n(9974),c=n(87357),x=n(25675),d=n.n(x),h=n(11163);function u(e){let{data:r}=e,n="ยังไม่เพิ่มเงินเดือน";r.salary&&(n=r.salary);let x=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),u=(0,h.useRouter)();return t.useEffect(()=>{console.log(r)},[]),(0,s.jsx)(i.Z,{sx:{borderRadius:"20px",mb:2,boxShadow:"rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(6, 24, 44, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset"},onClick:function(){u.push({pathname:"/employee/profile",query:{employeeData:JSON.stringify(r.id)}})},children:(0,s.jsx)(a.Z,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(d(),{src:r.profileUrl,priority:!0,alt:"profile",width:60,height:60,style:{borderRadius:"100px",objectFit:"cover"}}),(0,s.jsx)(l.Z,{sx:{pl:2,fontWeight:600,fontSize:"1.2rem"},children:r.name})]}),(0,s.jsxs)(c.Z,{children:[console.log(n),(0,s.jsxs)(l.Z,{sx:{color:"#7A7A7A"},children:["เงินเดือน: ",x]})]})]}),(0,s.jsxs)(c.Z,{sx:{mt:5},children:[(0,s.jsx)("hr",{}),(0,s.jsx)(c.Z,{children:(0,s.jsxs)(l.Z,{children:["เบอร์ติดต่อ: ",r.tel]})})]})]})})})}},49442:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return F}});var s=n(85893),t=n(67294),i=n(87357),o=n(9913),l=n(68239),a=n(86886),c=n(15861),x=n(98271),d=n(87109),h=n(83321),u=n(72479),p=n(11163);n(49925);var f=n(50838),m=n(42761),j=n(23279),Z=n.n(j),g=n(726),y=n(11463);function F(){let{role:e}=(0,f.Eu)(),[r,n]=t.useState([]),[j,F]=t.useState(""),[w,b]=t.useState(0),C=(0,p.useRouter)(),S=(0,l.Z)({palette:{primary:{main:"#018294"},success:{main:"#A9C470"},error:{main:"#FE616A"}}});t.useEffect(()=>{E("")},[]);let v=Z()(async e=>{try{let s=await (0,g.Z)("users","name",e),t=s.filter(e=>"employee"==e.role);n(t),b(r.length)}catch(e){console.error("Error searching data:",e)}},500),E=e=>{F(e),v(e)},_=0;r&&r.map(e=>{e.salary&&(_+=parseInt(e.salary))});let k=_.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return"employee"==e?null:"admin"==e?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.Z,{children:(0,s.jsx)(y.a,{theme:S,children:(0,s.jsxs)(a.ZP,{container:!0,columnSpacing:2,rowSpacing:0,sx:{height:"100%",width:"100%",pt:1},children:[(0,s.jsxs)(a.ZP,{item:!0,xs:12,sx:{mt:5},children:[(0,s.jsx)(c.Z,{sx:{fontSize:"2rem",fontWeight:"600"},children:"จัดการพนักงาน"}),(0,s.jsx)(i.Z,{sx:{mt:1},children:(0,s.jsx)(x.Z,{label:"ค้นหา",variant:"outlined",size:"small",onChange:e=>E(e.target.value),InputProps:{startAdornment:(0,s.jsx)(d.Z,{position:"start",children:(0,s.jsx)(m.Z,{sx:{fontSize:"1.4rem"}})})}})})]}),(0,s.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,s.jsx)(h.Z,{variant:"contained",color:"success",sx:{mr:2,mb:2,mt:2},onClick:function(){C.push("/employee/addemployee")},children:"เพิ่มพนักงาน"}),(0,s.jsx)(h.Z,{variant:"contained",sx:{mr:2,mb:2,mt:2},onClick:function(){C.push("/employee/former-employee")},children:"อดีตพนักงาน"})]}),(0,s.jsx)(a.ZP,{item:!0,sm:8,xs:12,children:r&&r.map(e=>(0,s.jsx)(u.default,{data:e},e.id))}),(0,s.jsx)(a.ZP,{item:!0,sm:4,xs:12,children:(0,s.jsxs)(i.Z,{sx:{backgroundColor:"#fff",boxShadow:" 4px 4px 4px 0px rgba(0, 0, 0, 0.25)",p:2,borderRadius:"20px"},children:[(0,s.jsx)(c.Z,{sx:{fontSize:"1.4vw",fontWeight:"600"},children:"ยอดค่าจ้าง"}),(0,s.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center"},children:[(0,s.jsxs)(i.Z,{sx:{backgroundColor:"#80C1CA",m:1,p:2,borderRadius:"5px"},children:[(0,s.jsx)(c.Z,{sx:{color:"#FFFFFF",fontSize:"1vw"},children:"จำนวนลูกจ้าง"}),(0,s.jsxs)(c.Z,{sx:{color:"#FFFFFF"},children:[(0,s.jsx)("span",{style:{fontSize:"2vw",fontWeight:500,color:"#FE616A"},children:r.length}),"คน"]})]}),(0,s.jsxs)(i.Z,{sx:{backgroundColor:"#80C1CA",m:1,p:2,borderRadius:"5px"},children:[(0,s.jsx)(c.Z,{sx:{color:"#FFFFFF",fontSize:"1vw"},children:"จำนวนเงินที่ต้องจ่าย"}),(0,s.jsxs)(c.Z,{sx:{color:"#FFFFFF"},children:[(0,s.jsx)("span",{style:{fontSize:"2vw",fontWeight:500,color:"#FE616A"},children:k}),"บาท"]})]})]})]})})]})})})}):void 0}}},function(e){e.O(0,[2607,7609,5675,6298,6185,1283,3717,3914,8360,8271,4363,9913,9774,2888,179],function(){return e(e.s=15021)}),_N_E=e.O()}]);