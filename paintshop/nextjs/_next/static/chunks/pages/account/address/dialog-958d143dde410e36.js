(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5778],{93946:function(e,o,t){"use strict";t.d(o,{Z:function(){return j}});var i=t(63366),n=t(87462),r=t(67294),a=t(86010),l=t(94780),d=t(41796),s=t(90948),c=t(71657),u=t(82607),m=t(98216),p=t(1588),h=t(34867);function v(e){return(0,h.Z)("MuiIconButton",e)}let f=(0,p.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var b=t(85893);let g=["edge","children","className","color","disabled","disableFocusRipple","size"],Z=e=>{let{classes:o,disabled:t,color:i,edge:n,size:r}=e,a={root:["root",t&&"disabled","default"!==i&&`color${(0,m.Z)(i)}`,n&&`edge${(0,m.Z)(n)}`,`size${(0,m.Z)(r)}`]};return(0,l.Z)(a,v,o)},x=(0,s.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,"default"!==t.color&&o[`color${(0,m.Z)(t.color)}`],t.edge&&o[`edge${(0,m.Z)(t.edge)}`],o[`size${(0,m.Z)(t.size)}`]]}})(({theme:e,ownerState:o})=>(0,n.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,d.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===o.edge&&{marginLeft:"small"===o.size?-3:-12},"end"===o.edge&&{marginRight:"small"===o.size?-3:-12}),({theme:e,ownerState:o})=>{var t;let i=null==(t=(e.vars||e).palette)?void 0:t[o.color];return(0,n.Z)({},"inherit"===o.color&&{color:"inherit"},"inherit"!==o.color&&"default"!==o.color&&(0,n.Z)({color:null==i?void 0:i.main},!o.disableRipple&&{"&:hover":(0,n.Z)({},i&&{backgroundColor:e.vars?`rgba(${i.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,d.Fq)(i.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===o.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===o.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${f.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),_=r.forwardRef(function(e,o){let t=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:l,className:d,color:s="default",disabled:u=!1,disableFocusRipple:m=!1,size:p="medium"}=t,h=(0,i.Z)(t,g),v=(0,n.Z)({},t,{edge:r,color:s,disabled:u,disableFocusRipple:m,size:p}),f=Z(v);return(0,b.jsx)(x,(0,n.Z)({className:(0,a.Z)(f.root,d),centerRipple:!0,focusRipple:!m,disabled:u,ref:o,ownerState:v},h,{children:l}))});var j=_},65533:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/address/dialog",function(){return t(46492)}])},5371:function(e,o,t){"use strict";t.d(o,{Z:function(){return a}});var i=t(11802),n=t(36100);let r=(0,n.ad)(i.Z);async function a(e,o,t){let i=null;try{let i={address:t.address,province:t.provinceName,amphure:t.amphureName,tambon:t.tambonName,zipcode:t.zipCode},a=(0,n.JU)(r,e,o);await (0,n.r7)(a,{addresses:(0,n.vr)(i)}),console.log("เพิ่มข้อมูลสำเร็จ")}catch(e){console.error("เกิดข้อผิดพลาดในการเพิ่มข้อมูล:",i=e)}return{result:null,error:i}}},46492:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return v}});var i=t(85893),n=t(67294),r=t(83321),a=t(50657),l=t(37645),d=t(6514),s=t(86886),c=t(10945),u=t(43665),m=t(31425),p=t(5371),h=t(50838);function v(){let[e,o]=n.useState(!1),[t,v]=n.useState(null),[f,b]=n.useState([]),[g,Z]=n.useState([]),[x,_]=n.useState([]),[j,z]=n.useState(void 0),[C,S]=n.useState(void 0),[k,y]=n.useState(void 0),[w,P]=n.useState(void 0),[R,E]=n.useState(void 0),N=(0,h.Eu)(),[$,I]=n.useState({province_id:void 0,amphure_id:void 0,tambon_id:void 0});n.useEffect(()=>{var e,o,t,i,n,r;if(console.log($),f){let t=null===(e=f.find(e=>e.id===$.province_id))||void 0===e?void 0:e.amphure;Z(t);let i=null===(o=f.find(e=>e.id===$.province_id))||void 0===o?void 0:o.name_th;S(i)}if(g){let e=null===(t=g.find(e=>e.id===$.amphure_id))||void 0===t?void 0:t.tambon;_(e);let o=null===(i=g.find(e=>e.id===$.amphure_id))||void 0===i?void 0:i.name_th;y(o)}if(x){let e=null===(n=x.find(e=>e.id===$.tambon_id))||void 0===n?void 0:n.name_th,o=null===(r=x.find(e=>e.id===$.tambon_id))||void 0===r?void 0:r.zip_code;P(e),z(o)}},[$,f,g,x]),console.log("ทดสอบ",t,C,k,w,j),n.useEffect(()=>{fetch("https://raw.githubusercontent.com/kongvut/thai-province-data/master/api_province_with_amphure_tambon.json",{method:"GET",redirect:"follow"}).then(e=>e.json()).then(e=>{b(e)}).catch(e=>console.log("error",e))},[]);let O=async e=>{e.preventDefault(),console.log("Handling form submission"),W();let o={address:t,provinceName:C,amphureName:k,tambonName:w,zipCode:j};console.log("Submitting form with data:",o);let{result:i,error:n}=await (0,p.Z)("users",N.user.uid,o)},W=()=>{o(!1)};return(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)(r.Z,{onClick:()=>{o(!0)},sx:{color:"#018294"},children:"เพิ่มที่อยู่"}),(0,i.jsxs)(a.Z,{open:e,onClose:W,children:[(0,i.jsx)(l.Z,{sx:{fontWeight:"bold"},children:"ที่อยู่จัดส่ง"}),(0,i.jsxs)("form",{onSubmit:O,className:"form",children:[(0,i.jsx)(d.Z,{children:(0,i.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(s.ZP,{xs:12,item:!0,children:(0,i.jsx)(c.Z,{variant:"outlined",label:"บ้านเลขที่",fullWidth:!0,multiline:!0,required:!0,size:"small",sx:{mt:1,mb:1},onChange:e=>v(e.target.value)})}),(0,i.jsx)(s.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(u.Z,{disablePortal:!0,options:f,getOptionLabel:e=>e.name_th,onChange:(e,o)=>{I(e=>({...e,province_id:o?o.id:void 0,amphure_id:void 0,tambon_id:void 0}))},fullWidth:!0,required:!0,size:"small",renderInput:e=>(0,i.jsx)(c.Z,{...e,label:"จังหวัด"})})}),(0,i.jsx)(s.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(u.Z,{disablePortal:!0,options:g||[],getOptionLabel:e=>e.name_th,onChange:(e,o)=>{I(e=>({...e,amphure_id:o?o.id:void 0,tambon_id:void 0}))},fullWidth:!0,size:"small",renderInput:e=>(0,i.jsx)(c.Z,{...e,label:"อำเภอ/เขต"})})}),(0,i.jsx)(s.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(u.Z,{disablePortal:!0,options:x||[],getOptionLabel:e=>e.name_th,onChange:(e,o)=>{I(e=>({...e,tambon_id:o?o.id:void 0}))},fullWidth:!0,size:"small",renderInput:e=>(0,i.jsx)(c.Z,{...e,label:"ตำบล"})})}),(0,i.jsx)(s.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(c.Z,{variant:"outlined",label:"รหัสไปรษณีย์",value:j||"",fullWidth:!0,required:!0,size:"small"})})]})}),(0,i.jsxs)(m.Z,{children:[(0,i.jsx)(r.Z,{variant:"outlined",onClick:W,sx:{borderColor:"#018294",color:"#018294",mb:4,"&:hover":{backgroundColor:"#018294",color:"#fff"}},children:"ยกเลิก"}),(0,i.jsx)(r.Z,{variant:"contained",sx:{backgroundColor:"#018294",color:"#fff",mb:4,"&:hover":{backgroundColor:"#01576e"}},type:"submit",children:"บันทึก"})]})]})]})]})}}},function(e){e.O(0,[2607,9078,6298,6886,945,6792,6078,3665,9774,2888,179],function(){return e(e.s=65533)}),_N_E=e.O()}]);