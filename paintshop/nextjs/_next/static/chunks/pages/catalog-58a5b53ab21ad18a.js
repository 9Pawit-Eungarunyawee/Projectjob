(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3065],{92718:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/catalog",function(){return r(85057)}])},59741:function(e,t){"use strict";t.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},17576:function(e,t,r){"use strict";r.d(t,{Z:function(){return T}});var n=r(85893),o=r(67294),i=r(66720),l=r(65582),s=r(68239),c=r(22430),a=r(2734),h=r(98396),d=r(42293),x=r(10155),u=r(83321),g=r(93946),p=r(69661),f=r(35294),m=r(4178),j=r(15861),Z=r(77533),b=r(78462),w=r(76113),A=r(48885),v=r(59334),y=r(326);let k=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var C=()=>{let[e,t]=o.useState(!1);return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(Z.ZP,{anchor:"left",open:e,onClose:()=>t(!1),children:(0,n.jsx)(b.Z,{children:k.map((e,t)=>(0,n.jsx)(w.Z,{children:(0,n.jsx)(A.Z,{children:(0,n.jsx)(v.Z,{children:e})})},t))})}),(0,n.jsx)(g.Z,{sx:{color:"black"},onClick:()=>t(!e),children:(0,n.jsx)(y.Z,{color:"white"})})]})},E=r(87357),P=r(59741),F=r(25675),L=r.n(F),S=r(41664),D=r.n(S),_=r(42761),X=r(46624),R=r(9669),B=r(50838),N=r(39332),O=r(49925);let W=["โปรไฟล์","ออกจากระบบ"];function I(){let[e,t]=o.useState(null),{role:r,user:i}=(0,B.Eu)();"admin"==r?(W=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(i)):"employee"==r?(W=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(i)):(W=["โปรไฟล์","ออกจากระบบ"],console.log(i));let[l,Z]=o.useState(""),[b,w]=o.useState(null),[A,v]=o.useState(null);o.useEffect(()=>{y()},[]);let y=async()=>{let e=i.uid,{result:r,error:n}=await (0,O.PR)("users",e);if(n)console.error("Error fetching collection:",n);else{let e=r.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));t(e)}},k=(0,R.v0)(),F=async()=>{try{await (0,R.w7)(k),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},S=(0,N.useRouter)(),I=e=>{"ออกจากระบบ"==e?F():"โปรไฟล์"==e?S.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==r?S.push("/dashboard"):S.push("/product"))};console.log("ทดสอบpath",S.pathname),o.useEffect(()=>{Z(S.pathname)},[S.pathname]);let T=(0,a.Z)();console.log(T);let U=(0,h.Z)(T.breakpoints.down("md"));console.log(U);let M=(0,s.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",l);let V={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,n.jsx)(c.Z,{theme:M,children:(0,n.jsx)(d.Z,{position:"static",sx:{background:"white"},children:(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(L(),{src:P.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),U?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(C,{})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>Z("/homepage"),children:(0,n.jsx)(E.Z,{sx:"/homepage"===l?V.activeLink:V.Box,children:(0,n.jsx)(u.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,n.jsx)(D(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>Z("/catalog"),children:(0,n.jsx)(E.Z,{sx:"/catalog"===l?V.activeLink:V.Box,children:(0,n.jsx)(u.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,n.jsx)(g.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,n.jsx)(_.Z,{})}),(0,n.jsx)(D(),{href:"/cart",children:(0,n.jsx)(g.Z,{color:"black",children:(0,n.jsx)(X.Z,{})})}),(0,n.jsx)(g.Z,{onClick:e=>{v(e.currentTarget)},sx:{p:0},children:e&&e.map((e,t)=>(0,n.jsx)(E.Z,{children:(0,n.jsx)(p.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},t))}),(0,n.jsx)(f.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:A,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!A,onClose:()=>{v(null)},children:W.map(e=>(0,n.jsx)(m.Z,{onClick:()=>I(e),children:(0,n.jsx)(j.Z,{textAlign:"center",children:e})},e))})]})]})})})}function T(e){let{children:t}=e,{user:r,isAdmin:s}=(0,B.Eu)(),c=(0,N.useRouter)();return o.useEffect(()=>{null==r&&c.push("/")},[r]),(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(i.ZP,{}),(0,n.jsxs)(l.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,n.jsx)(I,{}),t]})]})}},726:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(36100),o=r(11802);let i=(0,n.ad)(o.Z);async function l(e,t,r){try{let o=t.toLowerCase(),l=r.toLowerCase(),s=(0,n.IO)((0,n.hJ)(i,e),(0,n.Xo)(o)),c=await (0,n.PL)(s),a=c.docs.filter(e=>{let t=e.data()[o];return t&&-1!==t.toLowerCase().indexOf(l)}).map(e=>({id:e.id,...e.data()}));return a}catch(e){throw console.error("Error searching data:",e),e}}},85057:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(85893),o=r(17576),i=r(67294),l=r(87357),s=r(65582),c=r(12963),a=r(15861),h=r(83321),d=r(86886),x=r(66242),u=r(9974),g=r(83965),p=r(44267);r(49925);var f=r(96471),m=r(41664),j=r.n(m);r(25675);var Z=r(726),b=r(11163),w=r(23279),A=r.n(w);function v(e){e.preventDefault(),console.info("You clicked a breadcrumb.")}function y(){let[e,t]=i.useState(null),r=(0,b.useRouter)(),[m,w]=i.useState("");i.useEffect(()=>{k("")},[]),i.useEffect(()=>{},[e]);let y=A()(async e=>{try{let r=await (0,Z.Z)("catalog","name",e);t(r)}catch(e){console.error("Error searching data:",e)}},500),k=e=>{w(e),y(e)};return(0,n.jsx)(o.Z,{children:(0,n.jsxs)(l.Z,{sx:{height:"100vh",width:"100%"},children:[(0,n.jsx)(s.Z,{maxWidth:"false",sx:{display:"flex",justifyContent:"center",bgcolor:"#FAF8F1"},children:(0,n.jsxs)(l.Z,{sx:{width:"70vw",pt:2,pb:2},children:[(0,n.jsx)("div",{role:"presentation",onClick:v,children:(0,n.jsxs)(c.Z,{"aria-label":"Beger",children:[(0,n.jsx)(j(),{style:{textDecoration:"none",color:"inherit"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/homepage",children:"หน้าแรก"}),(0,n.jsx)(a.Z,{color:"text.primary",children:"แค็ตตาล็อก"})]})}),(0,n.jsx)(j(),{style:{textDecoration:"none"},sx:{color:"inherit","&:hover":{textDecoration:"underline"}},href:"/homepage",children:(0,n.jsx)(l.Z,{sx:{pt:2},children:(0,n.jsxs)(h.Z,{sx:{color:"#018294",bgcolor:"white",fontWeight:"bold",borderRadius:"50px",boxShadow:"4px 4px 4px 0px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsx)(f.Z,{}),(0,n.jsx)(a.Z,{children:" ย้อนกลับ"})]})})})]})}),(0,n.jsx)(s.Z,{maxWidth:!1,sx:{display:"flex",justifyContent:"center",bgcolor:"white"},children:(0,n.jsxs)(l.Z,{sx:{p:3,width:"70vw"},children:[(0,n.jsx)(a.Z,{variant:"h4",sx:{fontWeight:"bold",pb:2,color:"#018294",fontSize:"30px"},children:"เลือกแคตตาล็อก"}),(0,n.jsx)(d.ZP,{container:!0,spacing:2,children:e&&e.map(e=>(0,n.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(x.Z,{sx:{maxWidth:400},onClick:()=>{var t;return t=e.id,void r.push({pathname:"/productpage/",query:{catalogData:JSON.stringify(t)}})},children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(g.Z,{component:"img",height:"200",src:e.img,alt:"ภาพ"}),(0,n.jsx)(p.Z,{children:(0,n.jsx)(a.Z,{gutterBottom:!0,variant:"h5",component:"div",sx:{color:"#018294",fontSize:{xs:"1rem",sm:"1rem",md:"1.5rem"}},children:e.name})})]})})},e.id))})]})})]})})}}},function(e){e.O(0,[2607,7609,5675,6298,6185,1283,3717,3914,7451,5938,9774,2888,179],function(){return e(e.s=92718)}),_N_E=e.O()}]);