(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9716],{31425:function(e,o,t){"use strict";t.d(o,{Z:function(){return b}});var i=t(63366),n=t(87462),r=t(67294),a=t(86010),l=t(94780),s=t(90948),d=t(71657),c=t(1588),u=t(34867);function p(e){return(0,u.Z)("MuiDialogActions",e)}(0,c.Z)("MuiDialogActions",["root","spacing"]);var m=t(85893);let v=["className","disableSpacing"],f=e=>{let{classes:o,disableSpacing:t}=e;return(0,l.Z)({root:["root",!t&&"spacing"]},p,o)},h=(0,s.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,!t.disableSpacing&&o.spacing]}})(({ownerState:e})=>(0,n.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),g=r.forwardRef(function(e,o){let t=(0,d.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:l=!1}=t,s=(0,i.Z)(t,v),c=(0,n.Z)({},t,{disableSpacing:l}),u=f(c);return(0,m.jsx)(h,(0,n.Z)({className:(0,a.Z)(u.root,r),ownerState:c,ref:o},s))});var b=g},93946:function(e,o,t){"use strict";t.d(o,{Z:function(){return j}});var i=t(63366),n=t(87462),r=t(67294),a=t(86010),l=t(94780),s=t(41796),d=t(90948),c=t(71657),u=t(82607),p=t(98216),m=t(1588),v=t(34867);function f(e){return(0,v.Z)("MuiIconButton",e)}let h=(0,m.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var g=t(85893);let b=["edge","children","className","color","disabled","disableFocusRipple","size"],Z=e=>{let{classes:o,disabled:t,color:i,edge:n,size:r}=e,a={root:["root",t&&"disabled","default"!==i&&`color${(0,p.Z)(i)}`,n&&`edge${(0,p.Z)(n)}`,`size${(0,p.Z)(r)}`]};return(0,l.Z)(a,f,o)},x=(0,d.ZP)(u.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,o)=>{let{ownerState:t}=e;return[o.root,"default"!==t.color&&o[`color${(0,p.Z)(t.color)}`],t.edge&&o[`edge${(0,p.Z)(t.edge)}`],o[`size${(0,p.Z)(t.size)}`]]}})(({theme:e,ownerState:o})=>(0,n.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===o.edge&&{marginLeft:"small"===o.size?-3:-12},"end"===o.edge&&{marginRight:"small"===o.size?-3:-12}),({theme:e,ownerState:o})=>{var t;let i=null==(t=(e.vars||e).palette)?void 0:t[o.color];return(0,n.Z)({},"inherit"===o.color&&{color:"inherit"},"inherit"!==o.color&&"default"!==o.color&&(0,n.Z)({color:null==i?void 0:i.main},!o.disableRipple&&{"&:hover":(0,n.Z)({},i&&{backgroundColor:e.vars?`rgba(${i.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,s.Fq)(i.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===o.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===o.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${h.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),_=r.forwardRef(function(e,o){let t=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:l,className:s,color:d="default",disabled:u=!1,disableFocusRipple:p=!1,size:m="medium"}=t,v=(0,i.Z)(t,b),f=(0,n.Z)({},t,{edge:r,color:d,disabled:u,disableFocusRipple:p,size:m}),h=Z(f);return(0,g.jsx)(x,(0,n.Z)({className:(0,a.Z)(h.root,s),centerRipple:!0,focusRipple:!p,disabled:u,ref:o,ownerState:f},v,{children:l}))});var j=_},6382:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart/selectaddress/dialog",function(){return t(11342)}])},5371:function(e,o,t){"use strict";t.d(o,{Z:function(){return a}});var i=t(11802),n=t(36100);let r=(0,n.ad)(i.Z);async function a(e,o,t){let i=null;try{let i={address:t.address,province:t.provinceName,amphure:t.amphureName,tambon:t.tambonName,zipcode:t.zipCode},a=(0,n.JU)(r,e,o);await (0,n.r7)(a,{addresses:(0,n.vr)(i)}),console.log("เพิ่มข้อมูลสำเร็จ")}catch(e){console.error("เกิดข้อผิดพลาดในการเพิ่มข้อมูล:",i=e)}return{result:null,error:i}}},11342:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return f}});var i=t(85893),n=t(67294),r=t(83321),a=t(50657),l=t(37645),s=t(6514),d=t(86886),c=t(98271),u=t(43665),p=t(31425),m=t(5371),v=t(50838);function f(){let[e,o]=n.useState(!1),[t,f]=n.useState(null),[h,g]=n.useState([]),[b,Z]=n.useState([]),[x,_]=n.useState([]),[j,S]=n.useState(void 0),[z,C]=n.useState(void 0),[y,w]=n.useState(void 0),[k,R]=n.useState(void 0),[P,N]=n.useState(void 0),E=(0,v.Eu)(),[$,I]=n.useState({province_id:void 0,amphure_id:void 0,tambon_id:void 0});n.useEffect(()=>{var e,o,t,i,n,r;if(console.log($),h){let t=null===(e=h.find(e=>e.id===$.province_id))||void 0===e?void 0:e.amphure;Z(t);let i=null===(o=h.find(e=>e.id===$.province_id))||void 0===o?void 0:o.name_th;C(i)}if(b){let e=null===(t=b.find(e=>e.id===$.amphure_id))||void 0===t?void 0:t.tambon;_(e);let o=null===(i=b.find(e=>e.id===$.amphure_id))||void 0===i?void 0:i.name_th;w(o)}if(x){let e=null===(n=x.find(e=>e.id===$.tambon_id))||void 0===n?void 0:n.name_th,o=null===(r=x.find(e=>e.id===$.tambon_id))||void 0===r?void 0:r.zip_code;R(e),S(o)}},[$,h,b,x]),console.log("ทดสอบ",t,z,y,k,j),n.useEffect(()=>{fetch("https://raw.githubusercontent.com/kongvut/thai-province-data/master/api_province_with_amphure_tambon.json",{method:"GET",redirect:"follow"}).then(e=>e.json()).then(e=>{g(e)}).catch(e=>console.log("error",e))},[]);let M=async e=>{e.preventDefault(),console.log("Handling form submission"),O();let o={address:t,provinceName:z,amphureName:y,tambonName:k,zipCode:j};console.log("Submitting form with data:",o);let{result:i,error:n}=await (0,m.Z)("users",E.user.uid,o)},O=()=>{o(!1)};return(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)(r.Z,{onClick:()=>{o(!0)},sx:{color:"#018294"},children:"เพิ่มที่อยู่"}),(0,i.jsxs)(a.Z,{open:e,onClose:O,children:[(0,i.jsx)(l.Z,{sx:{fontWeight:"bold"},children:"ที่อยู่จัดส่ง"}),(0,i.jsxs)("form",{onSubmit:M,className:"form",children:[(0,i.jsx)(s.Z,{children:(0,i.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(d.ZP,{xs:12,item:!0,children:(0,i.jsx)(c.Z,{variant:"outlined",label:"บ้านเลขที่",fullWidth:!0,multiline:!0,required:!0,size:"small",sx:{mt:1,mb:1},onChange:e=>f(e.target.value)})}),(0,i.jsx)(d.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(u.Z,{disablePortal:!0,options:h,getOptionLabel:e=>e.name_th,onChange:(e,o)=>{I(e=>({...e,province_id:o?o.id:void 0,amphure_id:void 0,tambon_id:void 0}))},fullWidth:!0,required:!0,size:"small",renderInput:e=>(0,i.jsx)(c.Z,{...e,label:"จังหวัด"})})}),(0,i.jsx)(d.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(u.Z,{disablePortal:!0,options:b||[],getOptionLabel:e=>e.name_th,onChange:(e,o)=>{I(e=>({...e,amphure_id:o?o.id:void 0,tambon_id:void 0}))},fullWidth:!0,size:"small",renderInput:e=>(0,i.jsx)(c.Z,{...e,label:"อำเภอ/เขต"})})}),(0,i.jsx)(d.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(u.Z,{disablePortal:!0,options:x||[],getOptionLabel:e=>e.name_th,onChange:(e,o)=>{I(e=>({...e,tambon_id:o?o.id:void 0}))},fullWidth:!0,size:"small",renderInput:e=>(0,i.jsx)(c.Z,{...e,label:"ตำบล"})})}),(0,i.jsx)(d.ZP,{xs:12,sm:6,item:!0,children:(0,i.jsx)(c.Z,{variant:"outlined",label:"รหัสไปรษณีย์",value:j||"",fullWidth:!0,required:!0,size:"small"})})]})}),(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(r.Z,{variant:"outlined",onClick:O,sx:{borderColor:"#018294",color:"#018294",mb:4,"&:hover":{backgroundColor:"#018294",color:"#fff"}},children:"ยกเลิก"}),(0,i.jsx)(r.Z,{variant:"contained",sx:{backgroundColor:"#018294",color:"#fff",mb:4,"&:hover":{backgroundColor:"#01576e"}},type:"submit",children:"บันทึก"})]})]})]})]})}}},function(e){e.O(0,[2607,7609,6298,6185,8360,8271,4163,6078,3665,9774,2888,179],function(){return e(e.s=6382)}),_N_E=e.O()}]);