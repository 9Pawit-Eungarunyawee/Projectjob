"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5593],{59741:function(e,n){n.Z={src:"/_next/static/media/Logo.6eb3998a.png",height:500,width:500,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAtklEQVR42mMAgX+rUxgZkMDXPX5McM7/ZRFgyT/7/KW+tlux/GdgEGdAB/8PxLP+3x449/++TK33u4ue/p8QNgls8mk+iEm/z2/T+rFjwf+Py5enxpx/OuHeior//6Vc9RAmeBaIP5pX8L9s74UNDJvutV+ZVfb/v020CVjy09ZcZrCiCf6ND5aX/b8KlPxXnDwXJPbgLAMjqlsY3DX/G0cbIPgTGBGSu/TgXnt8jIHxP0M/WBIArFFPt28L8gwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},49505:function(e,n,o){o.d(n,{Z:function(){return k}});var t=o(85893),r=o(67294),l=o(87357),a=o(15861),s=o(75716),i=o(67358),c=o(38895),d=o(22797),h=o(90948),x=o(3023),p=o(40535),u=o(51983),g=o(41664),m=o.n(g),f=o(11163),j=o(49925),Z=o(50838);let b=(0,h.ZP)(e=>(0,t.jsx)(i.Z,{disableGutters:!0,elevation:0,square:!0,...e}))(e=>{let{theme:n}=e;return{"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}}),A=(0,h.ZP)(e=>(0,t.jsx)(c.Z,{expandIcon:(0,t.jsx)(s.Z,{sx:{fontSize:"0.9rem"}}),...e}))(e=>{let{theme:n}=e;return{flexDirection:"row","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}}),y=(0,h.ZP)(d.Z)(e=>{let{theme:n}=e;return{padding:n.spacing(2),borderBottom:"1px solid rgba(0, 0, 0, .125)",borderTop:"1px solid rgba(0, 0, 0, .125)"}});function k(){let[e,n]=r.useState("panel1"),o=(0,f.useRouter)(),s=(0,Z.Eu)(),[i,c]=r.useState(null);r.useEffect(()=>{d()},[]);let d=async()=>{let e=s.user.uid,{result:n,error:o}=await (0,j.PR)("users",e);if(o)console.error("Error fetching collection:",o);else{let o=n.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel}));console.log("ทดสอบรหัสผู้ใช้",e),c(o)}};console.log("ทดสอบผู้ใช้",i);let h=e=>(o,t)=>{n(!!t&&e)};return(0,t.jsxs)(t.Fragment,{children:[i&&i.map((e,n)=>(0,t.jsxs)(l.Z,{borderBottom:1,borderColor:"grey.300",marginBottom:1,children:[" ",(0,t.jsxs)(a.Z,{sx:{p:2},children:["สวัสดี,",(0,t.jsx)("span",{style:{fontWeight:"bold"},children:e.name})]})]},n)),(0,t.jsxs)(b,{expanded:"panel1"===e,onChange:h("panel1"),children:[(0,t.jsxs)(A,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[(0,t.jsx)(x.Z,{sx:{color:"grey"}}),(0,t.jsx)(a.Z,{sx:{pl:2,fontWeight:"bold"},children:"บัญชีของฉัน"})]}),(0,t.jsxs)(y,{sx:{pl:8,display:"flex",flexDirection:"column"},children:[(0,t.jsx)(m(),{style:{textDecoration:"none",color:"/account/profile"===o.pathname?"#018294":"inherit",fontWeight:"/account/profile"===o.pathname?"bold":"normal"},href:"/account/profile",children:"ข้อมูลส่วนตัว"}),(0,t.jsx)(m(),{style:{textDecoration:"none",color:"/account/address"===o.pathname?"#018294":"inherit",fontWeight:"/account/address"===o.pathname?"bold":"normal"},href:"/account/address",children:"ที่อยู่"})]})]}),(0,t.jsx)(b,{expanded:"panel2"===e,onChange:h("panel2"),children:(0,t.jsxs)(A,{"aria-controls":"panel2d-content",id:"panel2d-header",expandIcon:null,children:[(0,t.jsx)(p.Z,{sx:{color:"grey"}}),(0,t.jsx)(a.Z,{sx:{pl:2},children:(0,t.jsx)(m(),{style:{textDecoration:"none",color:"/account/orderhistory"===o.pathname?"#018294":"inherit",fontWeight:"bold"},href:"/account/orderhistory",children:"รายการคำสั่งซื้อ"})})]})}),(0,t.jsx)(b,{expanded:"panel3"===e,onChange:h("panel3"),children:(0,t.jsxs)(A,{"aria-controls":"panel3d-content",id:"panel3d-header",expandIcon:null,children:[(0,t.jsx)(u.Z,{sx:{color:"grey"}}),(0,t.jsx)(a.Z,{sx:{pl:2},children:(0,t.jsx)(m(),{style:{textDecoration:"none",color:"/account/claim"===o.pathname?"#018294":"inherit",fontWeight:"bold"},href:"/account/claim",children:"การเคลมสินค้า"})})]})})]})}},17576:function(e,n,o){o.d(n,{Z:function(){return T}});var t=o(85893),r=o(67294),l=o(66720),a=o(65582),s=o(68239),i=o(22430),c=o(2734),d=o(98396),h=o(42293),x=o(10155),p=o(83321),u=o(93946),g=o(69661),m=o(35294),f=o(4178),j=o(15861),Z=o(77533),b=o(78462),A=o(76113),y=o(48885),k=o(59334),w=o(326);let C=["หน้าแรก","ผลิตภัณฑ์","ออกแบบ"];var P=()=>{let[e,n]=r.useState(!1);return(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(Z.ZP,{anchor:"left",open:e,onClose:()=>n(!1),children:(0,t.jsx)(b.Z,{children:C.map((e,n)=>(0,t.jsx)(A.Z,{children:(0,t.jsx)(y.Z,{children:(0,t.jsx)(k.Z,{children:e})})},n))})}),(0,t.jsx)(u.Z,{sx:{color:"black"},onClick:()=>n(!e),children:(0,t.jsx)(w.Z,{color:"white"})})]})},E=o(87357),v=o(59741),D=o(25675),F=o.n(D),S=o(41664),B=o.n(S),L=o(42761),W=o(46624),I=o(9669),R=o(50838),M=o(39332),X=o(49925);let U=["โปรไฟล์","ออกจากระบบ"];function G(){let[e,n]=r.useState(null),{role:o,user:l}=(0,R.Eu)();"admin"==o?(U=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(l)):"employee"==o?(U=["โปรไฟล์","แดชบอร์ด","ออกจากระบบ"],console.log(l)):(U=["โปรไฟล์","ออกจากระบบ"],console.log(l));let[a,Z]=r.useState(""),[b,A]=r.useState(null),[y,k]=r.useState(null);r.useEffect(()=>{w()},[]);let w=async()=>{let e=l.uid,{result:o,error:t}=await (0,X.PR)("users",e);if(t)console.error("Error fetching collection:",t);else{let e=o.docs.map(e=>({id:e.id,name:e.data().name,email:e.data().email,tel:e.data().tel,img:e.data().profileUrl}));n(e)}},C=(0,I.v0)(),D=async()=>{try{await (0,I.w7)(C),console.log("User signed out")}catch(e){console.error("An error occurred while signing out:",e)}},S=(0,M.useRouter)(),G=e=>{"ออกจากระบบ"==e?D():"โปรไฟล์"==e?S.push("/account/profile"):"แดชบอร์ด"==e&&("admin"==o?S.push("/dashboard"):S.push("/product"))};console.log("ทดสอบpath",S.pathname),r.useEffect(()=>{Z(S.pathname)},[S.pathname]);let T=(0,c.Z)();console.log(T);let V=(0,d.Z)(T.breakpoints.down("md"));console.log(V);let N=(0,s.Z)({typography:{fontFamily:"Prompt",fontSize:18},palette:{primary:{main:"#ffffff"}}});console.log("Current Path:",a);let z={Box:{transition:"0.1s","&:hover":{transition:"0.1s",color:"#018294"}},activeLink:{fontWeight:"bold",color:"#018294"}};return(0,t.jsx)(i.Z,{theme:N,children:(0,t.jsx)(h.Z,{position:"static",sx:{background:"white"},children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(F(),{src:v.Z,alt:"logo",style:{objectFit:"cover",width:"4vw",height:"100%"},sx:{display:{xs:"flex",md:"none"},mr:1}}),V?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(P,{})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B(),{style:{color:"black"},href:"/homepage",passHref:!0,onClick:e=>Z("/homepage"),children:(0,t.jsx)(E.Z,{sx:"/homepage"===a?z.activeLink:z.Box,children:(0,t.jsx)(p.Z,{color:"inherit",children:"หน้าแรก"})})}),(0,t.jsx)(B(),{style:{color:"black"},href:"/catalog",passHref:!0,onClick:e=>Z("/catalog"),children:(0,t.jsx)(E.Z,{sx:"/catalog"===a?z.activeLink:z.Box,children:(0,t.jsx)(p.Z,{color:"inherit",children:"ผลิตภัณฑ์"})})}),(0,t.jsx)(u.Z,{color:"black",sx:{marginLeft:"auto"},children:(0,t.jsx)(L.Z,{})}),(0,t.jsx)(B(),{href:"/cart",children:(0,t.jsx)(u.Z,{color:"black",children:(0,t.jsx)(W.Z,{})})}),(0,t.jsx)(u.Z,{onClick:e=>{k(e.currentTarget)},sx:{p:0},children:e&&e.map((e,n)=>(0,t.jsx)(E.Z,{children:(0,t.jsx)(g.Z,{src:e.img,alt:"profile",sx:{width:32,height:32,ml:1}})},n))}),(0,t.jsx)(m.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!y,onClose:()=>{k(null)},children:U.map(e=>(0,t.jsx)(f.Z,{onClick:()=>G(e),children:(0,t.jsx)(j.Z,{textAlign:"center",children:e})},e))})]})]})})})}function T(e){let{children:n}=e,{user:o,isAdmin:s}=(0,R.Eu)(),i=(0,M.useRouter)();return r.useEffect(()=>{null==o&&i.push("/")},[o]),(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(l.ZP,{}),(0,t.jsxs)(a.Z,{maxWidth:"sx",sx:{bgcolor:"#FAF8F1"},style:{padding:"0px"},children:[(0,t.jsx)(G,{}),n]})]})}}}]);